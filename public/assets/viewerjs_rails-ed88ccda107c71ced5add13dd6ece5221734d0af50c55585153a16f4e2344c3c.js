function Viewer(t){function e(){var e,n,i,r,a;t&&(i=t.getPluginName(),r=t.getPluginVersion(),a=t.getPluginURL()),e=document.createElement("div"),e.id="aboutDialogCentererTable",n=document.createElement("div"),n.id="aboutDialogCentererCell",f=document.createElement("div"),f.id="aboutDialog",f.innerHTML='<h1>ViewerJS</h1><p>Open Source document viewer for webpages, built with HTML and JavaScript.</p><p>Learn more and get your own copy on the <a href="http://viewerjs.org/" target="_blank">ViewerJS website</a>.</p>'+(t?'<p>Using the <a href = "'+a+'" target="_blank">'+i+'</a> (<span id = "pluginVersion">'+r+"</span>) plugin to show you this document.</p>":"")+'<p>Supported by <a href="http://nlnet.nl" target="_blank"><br><img src="/assets/nlnet-8cc0f917ce3ec72f7d47850c398ac9787d88d2ed5676f75bdee9bd687ff215d8.png" width="160" height="60" alt="NLnet Foundation"></a></p><p>Made by <a href="http://kogmbh.com" target="_blank"><br><img src="/assets/kogmbh-ee53d1eceb1c87735ed2f81d1464c1310dc11f2ef3077863bd25a4e277fbec71.png" width="172" height="40" alt="KO GmbH"></a></p><button id = "aboutDialogCloseButton" class = "toolbarButton textButton">Close</button>',E.appendChild(e),e.appendChild(n),n.appendChild(f),e=document.createElement("button"),e.id="about",e.className="toolbarButton textButton about",e.title="About",e.innerHTML="ViewerJS",M.appendChild(e),e.addEventListener("click",function(){E.style.display="block"}),document.getElementById("aboutDialogCloseButton").addEventListener("click",function(){E.style.display="none"})}function n(t){var e,n,i=T.options,r=!1;for(n=0;n<i.length;n+=1)e=i[n],e.value!==t?e.selected=!1:r=e.selected=!0;return r}function i(t,e,n){t!==b.getZoomLevel()&&(b.setZoomLevel(t),n=document.createEvent("UIEvents"),n.initUIEvent("scalechange",!1,!1,window,0),n.scale=t,n.resetAutoSettings=e,window.dispatchEvent(n))}function r(){var e;t.onScroll&&t.onScroll(),t.getPageInView&&(e=t.getPageInView())&&(g=e,document.getElementById("pageNumber").value=e)}function a(t){window.clearTimeout(m),m=window.setTimeout(function(){r()},t)}function o(e,r,o){var s,c;if(s="custom"===e?parseFloat(document.getElementById("customScaleOption").textContent)/100:parseFloat(e))i(s,!0,o);else{switch(s=k.clientWidth-y,c=k.clientHeight-y,e){case"page-actual":i(1,r,o);break;case"page-width":t.fitToWidth(s);break;case"page-height":t.fitToHeight(c);break;case"page-fit":t.fitToPage(s,c);break;case"auto":t.isSlideshow()?t.fitToPage(s+y,c+y):t.fitSmart(s)}n(e)}a(300)}function s(){S=!S,x&&!S&&b.togglePresentationMode()}function c(){w&&(F.className="viewer-touched",window.clearTimeout(A),A=window.setTimeout(function(){F.className=""},5e3))}function l(){D.classList.add("viewer-touched"),I.classList.add("viewer-touched"),window.clearTimeout(v),v=window.setTimeout(function(){h()},5e3)}function h(){D.classList.remove("viewer-touched"),I.classList.remove("viewer-touched")}function u(){D.classList.contains("viewer-touched")?h():l()}var d,f,p,g,m,A,v,b=this,y=40,x=!1,S=!1,C=!1,w=!1,P=document.getElementById("viewer"),k=document.getElementById("canvasContainer"),F=document.getElementById("overlayNavigator"),D=document.getElementById("titlebar"),I=document.getElementById("toolbarContainer"),R=document.getElementById("toolbarLeft"),L=document.getElementById("toolbarMiddleContainer"),T=document.getElementById("scaleSelect"),E=document.getElementById("dialogOverlay"),M=document.getElementById("toolbarRight"),O=[];this.initialize=function(){var e=String(document.location),n=e.indexOf("#"),e=e.substr(n+1);-1===n||0===e.length?console.log("Could not parse file path argument."):(d=e,p=d.replace(/^.*[\\\/]/,""),document.title=p,document.getElementById("documentName").innerHTML=_document_title.trim().length<=0?document.title:_document_title.trim(),t.onLoad=function(){document.getElementById("pluginVersion").innerHTML=t.getPluginVersion(),(w=t.isSlideshow())?(k.classList.add("slideshow"),R.style.visibility="visible"):(L.style.visibility="visible",t.getPageInView&&(R.style.visibility="visible")),C=!0,O=t.getPages(),document.getElementById("numPages").innerHTML="of "+O.length,_t_zoommodes=["auto","custom","page-actual","page-width","page-height","page-fit"],"undefined"==typeof _document_zmode&&(_document_zmode=_t_zoommodes[0]),_t_selected_zoommode=-1==_t_zoommodes.indexOf(_document_zmode)?_t_zoommodes[0]:_document_zmode,"undefined"!=typeof _document_zlevel&&_t_selected_zoommode==_t_zoommodes[1]&&b.setZoomLevel(_document_zlevel),b.showPage(1),o(_t_selected_zoommode),k.onscroll=r,a()},t.initialize(k,e))},this.showPage=function(e){0>=e?e=1:e>O.length&&(e=O.length),t.showPage(e),g=e,document.getElementById("pageNumber").value=g},this.showNextPage=function(){b.showPage(g+1)},this.showPreviousPage=function(){b.showPage(g-1)},this.download=function(){var t=d.split("#")[0];window.open(t+"#viewer.action=download","_parent")},this.toggleFullScreen=function(){S?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():P.requestFullScreen?P.requestFullScreen():P.mozRequestFullScreen?P.mozRequestFullScreen():P.webkitRequestFullScreen?P.webkitRequestFullScreen():P.msRequestFullscreen&&P.msRequestFullscreen()},this.togglePresentationMode=function(){var e=document.getElementById("overlayCloseButton");x?(D.style.display=I.style.display="block",e.style.display="none",k.classList.remove("presentationMode"),k.onmouseup=function(){},k.oncontextmenu=function(){},k.onmousedown=function(){},o("auto"),w=t.isSlideshow()):(D.style.display=I.style.display="none",e.style.display="block",k.classList.add("presentationMode"),w=!0,k.onmousedown=function(t){t.preventDefault()},k.oncontextmenu=function(t){t.preventDefault()},k.onmouseup=function(t){t.preventDefault(),1===t.which?b.showNextPage():b.showPreviousPage()},o("page-fit")),x=!x},this.getZoomLevel=function(){return t.getZoomLevel()},this.setZoomLevel=function(e){t.setZoomLevel(e)},this.zoomOut=function(){var t=(b.getZoomLevel()/1.1).toFixed(2),t=Math.max(.25,t);o(t,!0)},this.zoomIn=function(){var t=(1.1*b.getZoomLevel()).toFixed(2),t=Math.min(4,t);o(t,!0)},function(){e(),t&&(b.initialize(),document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||(document.getElementById("fullscreen").style.visibility="hidden",document.getElementById("presentation").style.visibility="hidden"),document.getElementById("overlayCloseButton").addEventListener("click",b.toggleFullScreen),document.getElementById("fullscreen").addEventListener("click",b.toggleFullScreen),document.getElementById("presentation").addEventListener("click",function(){S||b.toggleFullScreen(),b.togglePresentationMode()}),document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("mozfullscreenchange",s),document.addEventListener("MSFullscreenChange",s),document.getElementById("download").addEventListener("click",function(){b.download()}),document.getElementById("zoomOut").addEventListener("click",function(){b.zoomOut()}),document.getElementById("zoomIn").addEventListener("click",function(){b.zoomIn()}),document.getElementById("previous").addEventListener("click",function(){b.showPreviousPage()}),document.getElementById("next").addEventListener("click",function(){b.showNextPage()}),document.getElementById("previousPage").addEventListener("click",function(){b.showPreviousPage()}),document.getElementById("nextPage").addEventListener("click",function(){b.showNextPage()}),document.getElementById("pageNumber").addEventListener("change",function(){b.showPage(this.value)}),document.getElementById("scaleSelect").addEventListener("change",function(){o(this.value)}),k.addEventListener("click",c),F.addEventListener("click",c),k.addEventListener("click",u),D.addEventListener("click",l),I.addEventListener("click",l),window.addEventListener("scalechange",function(t){var e=document.getElementById("customScaleOption"),i=n(String(t.scale));e.selected=!1,i||(e.textContent=Math.round(1e4*t.scale)/100+"%",e.selected=!0)},!0),window.addEventListener("resize",function(){C&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageAutoOption").selected)&&o(document.getElementById("scaleSelect").value),c()}),window.addEventListener("keydown",function(t){var e=t.shiftKey;switch(t.keyCode){case 33:case 38:case 37:b.showPreviousPage();break;case 34:case 40:case 39:b.showNextPage();break;case 32:e?b.showPreviousPage():b.showNextPage()}}))}()}function loadDocument(){window.onload=function(){viewer=new Viewer(new PDFViewerPlugin)}}function PDFViewerPlugin(){"use strict";function t(t){t()}function e(t){t.parentNode.scrollTop=t.offsetTop}function n(t){var e=v.scrollTop,n=e+v.clientHeight,i=t.offsetTop,r=i+t.clientHeight;return i>=e&&i<n||r>=e&&r<n||i<e&&r>=n}function i(t){return p[t.pageInfo.pageIndex]}function r(t){return g[t.pageInfo.pageIndex]}function a(t){return m[t.pageInfo.pageIndex]}function o(t,e){m[t.pageInfo.pageIndex]=e}function s(t,e,n){var r=i(t),a=r.getElementsByTagName("canvas")[0],s=r.getElementsByTagName("div")[0],c="scale("+x+", "+x+")";r.style.width=e+"px",r.style.height=n+"px",a.width=e,a.height=n,s.style.width=e+"px",s.style.height=n+"px",CustomStyle.setProp("transform",s,c),CustomStyle.setProp("transformOrigin",s,"0% 0%"),o(t,A.BLANK)}function c(t){var e=i(t),n=r(t),s=e.getElementsByTagName("canvas")[0];a(t)===A.BLANK&&(o(t,A.RUNNING),t.render({canvasContext:s.getContext("2d"),textLayer:n,viewport:t.getViewport(x)}).promise.then(function(){o(t,A.FINISHED)}))}function l(t){var e,n,i,r,a,o;e=t.pageInfo.pageIndex+1,o=t.getViewport(x),a=document.createElement("div"),a.id="pageContainer"+e,a.className="page",r=document.createElement("canvas"),r.id="canvas"+e,n=document.createElement("div"),n.className="textLayer",n.id="textLayer"+e,v.appendChild(a),a.appendChild(r),a.appendChild(n),f.push(t),p.push(a),m.push(A.BLANK),s(t,o.width,o.height),h=o.width,u=o.height,i=new TextLayerBuilder({textLayerDiv:n,pageIndex:e-1}),t.getTextContent().then(function(t){i.setTextContent(t)}),g.push(i),(C+=1)===y.numPages&&(d.isSlideshow()&&(p.forEach(function(t){t.style.display="none"}),d.showPage(1)),d.onLoad())}var h,u,d=this,f=[],p=[],g=[],m=[],A={BLANK:0,RUNNING:1,FINISHED:2},v=null,b=!1,y=null,x=1,S=1,C=0;this.initialize=function(e,n){var i;t(function(){PDFJS.workerSrc="/assets/pdf.worker-45947f36da4f112328ca27749dc527915d391e6d72df29f861986aff7be57a7d.js",PDFJS.getDocument(n).then(function(t){for(y=t,v=e,i=0;i<y.numPages;i+=1)y.getPage(i+1).then(l);b=!0})})},this.isSlideshow=function(){return h>u},this.onLoad=function(){},this.getPages=function(){return p},this.getWidth=function(){return h},this.getHeight=function(){return u},this.fitToWidth=function(t){var e;d.getWidth()!==t&&(e=t/h,d.setZoomLevel(e))},this.fitToHeight=function(t){var e;d.getHeight()!==t&&(e=t/u,d.setZoomLevel(e))},this.fitToPage=function(t,e){var n=t/h;e/u<n&&(n=e/u),d.setZoomLevel(n)},this.fitSmart=function(t,e){var n=t/h;e&&e/u<n&&(n=e/u),n=Math.min(1,n),d.setZoomLevel(n)},this.setZoomLevel=function(t){var e;if(x!==t)for(x=t,e=0;e<f.length;e+=1)s(f[e],h*x,u*x)},this.getZoomLevel=function(){return x},this.onScroll=function(){var t;for(t=0;t<p.length;t+=1)n(p[t])&&a(f[t])===A.BLANK&&c(f[t])},this.getPageInView=function(){var t;if(d.isSlideshow())return S;for(t=0;t<p.length;t+=1)if(n(p[t]))return t+1},this.showPage=function(t){d.isSlideshow()?(p[S-1].style.display="none",S=t,p[t-1].style.display="block"):e(p[t-1])},this.getPluginName=function(){return"PDF.js"},this.getPluginVersion=function(){return"undefined"!==String(typeof pdfjs_version)?pdfjs_version:"From Source"},this.getPluginURL=function(){return"https://github.com/mozilla/pdf.js/"}}function getFileName(t){var e=t.indexOf("#"),n=t.indexOf("?"),i=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",i)+1,i)}function getOutputScale(t){var e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,i=e/n;return{sx:i,sy:i,scaled:1!=i}}function scrollIntoView(t,e){var n=t.offsetParent,i=t.offsetTop+t.clientTop,r=t.offsetLeft+t.clientLeft;if(!n)return void console.error("offsetParent is not set -- cannot scroll");for(;n.clientHeight===n.scrollHeight;)if(n.dataset._scaleY&&(i/=n.dataset._scaleY,r/=n.dataset._scaleX),i+=n.offsetTop,r+=n.offsetLeft,!(n=n.offsetParent))return;e&&(e.top!==undefined&&(i+=e.top),e.left!==undefined&&(r+=e.left,n.scrollLeft=r)),n.scrollTop=i}function noContextMenuHandler(t){t.preventDefault()}function getPDFFileNameFromURL(t){var e=/^(?:([^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=e.exec(t),r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],-1!=r.indexOf("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch(t){}return r||"document.pdf"}var viewer;"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),function(){function t(t,e){return new n(this.slice(t,e))}function e(t,e){arguments.length<2&&(e=0);for(var n=0,i=t.length;n<i;++n,++e)this[e]=255&t[n]}function n(n){var i;if("number"==typeof n){i=[];for(var r=0;r<n;++r)i[r]=0}else if("slice"in n)i=n.slice(0);else{i=[];for(var r=0,a=n.length;r<a;++r)i[r]=n[r]}return i.subarray=t,i.buffer=i,i.byteLength=i.length,i.set=e,"object"==typeof n&&n.buffer&&(i.buffer=n.buffer),i}if("undefined"!=typeof Uint8Array)return"undefined"==typeof Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(t,e){return new Uint8Array(this.slice(t,e))},Float32Array.prototype.subarray=function(t,e){return new Float32Array(this.slice(t,e))}),void("undefined"==typeof Float64Array&&(window.Float64Array=Float32Array));window.Uint8Array=n,window.Uint32Array=n,window.Int32Array=n,window.Uint16Array=n,window.Float32Array=n,window.Float64Array=n}(),function(){window.URL||(window.URL=window.webkitURL)}(),function(){"undefined"==typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e})}(),function(){if("undefined"!=typeof Object.defineProperty){var t=!0;try{Object.defineProperty(new Image,"id",{value:"test"});var e=function(){};e.prototype={get id(){}},Object.defineProperty(new e,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(e){t=!1}if(t)return}Object.defineProperty=function(t,e,n){delete t[e],"get"in n&&t.__defineGetter__(e,n.get),"set"in n&&t.__defineSetter__(e,n.set),"value"in n&&(t.__defineSetter__(e,function(t){return this.__defineGetter__(e,function(){return t}),t}),t[e]=n.value)}}(),function(){"undefined"==typeof Object.keys&&(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e})}(),function(){if("undefined"!=typeof FileReader){var t=FileReader.prototype;"readAsArrayBuffer"in t||Object.defineProperty(t,"readAsArrayBuffer",{value:function(t){var e=new FileReader,n=this;e.onload=function(t){for(var e=t.target.result,i=new ArrayBuffer(e.length),r=new Uint8Array(i),a=0,o=e.length;a<o;a++)r[a]=e.charCodeAt(a);Object.defineProperty(n,"result",{value:i,enumerable:!0,writable:!1,configurable:!0});var s=document.createEvent("HTMLEvents");s.initEvent("load",!1,!1),n.dispatchEvent(s)},e.readAsBinaryString(t)}})}}(),function(){function t(){this.overrideMimeType("text/plain; charset=x-user-defined")}function e(){var t,e=this.responseText,n=e.length,i=new Uint8Array(n);for(t=0;t<n;++t)i[t]=255&e.charCodeAt(t);return i}var n=XMLHttpRequest.prototype;if("overrideMimeType"in n||Object.defineProperty(n,"overrideMimeType",{value:function(){}}),!("response"in n||"mozResponseArrayBuffer"in n||"mozResponse"in n||"responseArrayBuffer"in n)){if("undefined"!=typeof VBArray)return void Object.defineProperty(n,"response",{get:function(){return new Uint8Array(new VBArray(this.responseBody).toArray())}});"function"==typeof n.overrideMimeType&&Object.defineProperty(n,"responseType",{set:t}),Object.defineProperty(n,"response",{get:e})}}(),function(){if(!("btoa"in window)){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.btoa=function(e){var n,i,r="";for(n=0,i=e.length;n<i;n+=3){var a=255&e.charCodeAt(n),o=255&e.charCodeAt(n+1),s=255&e.charCodeAt(n+2),c=a>>2,l=(3&a)<<4|o>>4,h=n+1<i?(15&o)<<2|s>>6:64,u=n+2<i?63&s:64;r+=t.charAt(c)+t.charAt(l)+t.charAt(h)+t.charAt(u)}return r}}}(),function(){if(!("atob"in window)){window.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new Error("bad atob input");for(var e,n,i=0,r=0,a="";n=t.charAt(r++);~n&&(e=i%4?64*e+n:n,i++%4)?a+=String.fromCharCode(255&e>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return a}}}(),function(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(){var i=Array.prototype.concat.apply(n,arguments);return e.apply(t,i)}})}(),function(){"dataset"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var t={},e=0,n=this.attributes.length;e<n;e++){var i=this.attributes[e];"data-"==i.name.substring(0,5)&&(t[i.name.substring(5).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})]=i.value)}return Object.defineProperty(this,"_dataset",{value:t,writable:!1,enumerable:!1}),t},enumerable:!0})}(),function(){function t(t,e,n,i){var r=t.className||"",a=r.split(/\s+/g);""===a[0]&&a.shift();var o=a.indexOf(e);return o<0&&n&&a.push(e),o>=0&&i&&a.splice(o,1),t.className=a.join(" "),o>=0}if(!("classList"in document.createElement("div"))){var e={add:function(e){t(this.element,e,!0,!1)},contains:function(e){return t(this.element,e,!1,!1)},remove:function(e){t(this.element,e,!1,!0)},toggle:function(e){t(this.element,e,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var t=Object.create(e,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:t,writable:!1,enumerable:!1}),t},enumerable:!0})}}(),function(){"console"in window?"bind"in console.log||(console.log=function(t){return function(e){return t(e)}}(console.log),console.error=function(t){return function(e){return t(e)}}(console.error),console.warn=function(t){return function(e){return t(e)}}(console.warn)):window.console={log:function(){},error:function(){},warn:function(){}}}(),function(){function t(t){e(t.target)&&t.stopPropagation()}function e(t){return t.disabled||t.parentNode&&e(t.parentNode)}-1!=navigator.userAgent.indexOf("Opera")&&document.addEventListener("click",t,!0)}(),function(){navigator.userAgent.indexOf("Trident")>=0&&(PDFJS.disableCreateObjectURL=!0)}(),function(){"language"in navigator||Object.defineProperty(navigator,"language",{get:function(){var t=navigator.userLanguage||"en-US";return t.substring(0,2).toLowerCase()+t.substring(2).toUpperCase()},enumerable:!0})}(),function(){var t=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,e=/Android\s[0-2][^\d]/,n=e.test(navigator.userAgent);(t||n)&&(PDFJS.disableRange=!0)}(),function(){window.history.pushState||(PDFJS.disableHistory=!0)}(),"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),PDFJS.version="0.8.958",PDFJS.build="d45d7bc",function(){"use strict";function t(t){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+t)}function e(t){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+t)}function n(t){if(arguments.length>1){var e=["Error:"];e.push.apply(e,arguments),console.log.apply(console,e),t=[].join.call(arguments," ")}else console.log("Error: "+t);throw console.log(i()),L.notify(R.unknown),new Error(t)}function i(){try{throw new Error}catch(t){return t.stack?t.stack.split("\n").slice(2).join("\n"):""}}function r(t,e){t||n(e)}function a(t,e){if(!e)return t;if(/^[a-z][a-z0-9+\-.]*:/i.test(e))return e;if("/"==e.charAt(0)){var n=t.indexOf("://");return n=t.indexOf("/",n+3),t.substring(0,n)+e}var n,i=t.length;n=t.lastIndexOf("#"),i=n>=0?n:i,n=t.lastIndexOf("?",i),i=n>=0?n:i;var r=t.lastIndexOf("/",i);return t.substring(0,r+1)+e}function o(t,e){if(!t)return!1;var n=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(t);if(!n)return e;switch(n=n[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":return!0;default:return!1}}function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}function c(t){for(var e="",n=t.length,i=0;i<n;++i)e+=String.fromCharCode(t[i]);return e}function l(t){for(var e=t.length,n=new Uint8Array(e),i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}function h(t){var e,n=t.length,i="";if("\xfe"===t[0]&&"\xff"===t[1])for(e=2;e<n;e+=2)i+=String.fromCharCode(t.charCodeAt(e)<<8|t.charCodeAt(e+1));else for(e=0;e<n;++e){var r=B[t.charCodeAt(e)];i+=r?String.fromCharCode(r):t.charAt(e)}return i}function u(t){return"boolean"==typeof t}function d(t){return"number"==typeof t}function f(t){return"string"==typeof t}function p(t){return t instanceof Name}function g(t,e){if(!(t instanceof Dict))return!1;if(!e)return!0;var n=t.get("Type");return p(n)&&n.name==e}function m(t){return t instanceof Array}function A(t){return"object"==typeof t&&null!==t&&t!==undefined&&"getBytes"in t}function v(t){return"object"==typeof t&&null!==t&&t!==undefined&&"byteLength"in t}function b(t,e){this.name=t,this.comObj=e,this.callbackIndex=1,this.postMessageTransfers=!0;var i=this.callbacks={},r=this.actionHandler={};r.console_log=[function(t){console.log.apply(console,t)}],r.console_error=[function(t){console.error.apply(console,t)}],r._unsupported_feature=[function(t){L.notify(t)}],e.onmessage=function(t){var a=t.data;if(a.isReply){var o=a.callbackId;if(a.callbackId in i){var s=i[o];delete i[o],s(a.data)}else n("Cannot resolve callback "+o)}else if(a.action in r){var c=r[a.action];if(a.callbackId){var l={},h=new Promise(function(t,e){l.resolve=t,l.reject=e});l.promise=h,h.then(function(t){e.postMessage({isReply:!0,callbackId:a.callbackId,data:t})}),c[0].call(c[1],a.data,l)}else c[0].call(c[1],a.data)}else n("Unkown action from worker: "+a.action)}}function y(t,e,n){var i=new Image;i.onload=function(){n.resolve(t,i)},i.src=e}function x(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function S(t){t.mozCurrentTransform||(t._scaleX=t._scaleX||1,t._scaleY=t._scaleY||1,t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._transformMatrix=[t._scaleX,0,0,t._scaleY,0,0],t._transformStack=[],Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=e*r-n*i,c=n*i-e*r;return[r/s,n/c,i/c,e/s,(r*a-i*o)/c,(n*a-e*o)/s]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*e,n[3]=n[3]*e,this._originalScale(t,e)},t.transform=function(e,n,i,r,a,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*n,s[1]*e+s[3]*n,s[0]*i+s[2]*r,s[1]*i+s[3]*r,s[0]*a+s[2]*o+s[4],s[1]*a+s[3]*o+s[5]],t._originalTransform(e,n,i,r,a,o)},t.setTransform=function(e,n,i,r,a,o){this._transformMatrix=[e,n,i,r,a,o],t._originalSetTransform(e,n,i,r,a,o)},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this._transformMatrix;this._transformMatrix=[i[0]*e+i[2]*n,i[1]*e+i[3]*n,i[0]*-n+i[2]*e,i[1]*-n+i[3]*e,i[4],i[5]],this._originalRotate(t)})}function C(t){var e,n,i,r,a=1e3,o=t.width,s=t.height,c=o+1,l=new Uint8Array(c*(s+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=o+7&-8,d=t.data,f=new Uint8Array(u*s),p=0;for(e=0,r=d.length;e<r;e++)for(var g=128,m=d[e];g>0;)f[p++]=m&g?0:255,g>>=1;var A=0;for(p=0,0!==f[p]&&(l[0]=1,++A),n=1;n<o;n++)f[p]!==f[p+1]&&(l[n]=f[p]?2:1,++A),p++;for(0!==f[p]&&(l[n]=2,++A),e=1;e<s;e++){p=e*u,i=e*c,f[p-u]!==f[p]&&(l[i]=f[p]?1:8,++A);var v=(f[p]?4:0)+(f[p-u]?8:0);for(n=1;n<o;n++)v=(v>>2)+(f[p+1]?4:0)+(f[p-u+1]?8:0),h[v]&&(l[i+n]=h[v],++A),p++;if(f[p-u]!==f[p]&&(l[i+n]=f[p]?2:4,++A),A>a)return null}for(p=u*(s-1),i=e*c,0!==f[p]&&(l[i]=8,++A),n=1;n<o;n++)f[p]!==f[p+1]&&(l[i+n]=f[p]?4:8,++A),p++;if(0!==f[p]&&(l[i+n]=4,++A),A>a)return null;var b=new Int32Array([0,c,-1,0,-c,0,0,0,1]),y=[];for(e=0;A&&e<=s;e++){for(var x=e*c,S=x+o;x<S&&!l[x];)x++;if(x!==S){var C,w=[x%c,e],P=l[x],k=x;do{var F=b[P];do{x+=F}while(!l[x]);C=l[x],5!==C&&10!==C?(P=C,l[x]=0):(P=C&51*P>>4,l[x]&=P>>2|P<<2),w.push(x%c),w.push(x/c|0),--A}while(k!==x);y.push(w),--e}}return function(t){t.save(),t.scale(1/o,-1/s),t.translate(0,-s),t.beginPath();for(var e=0,n=y.length;e<n;e++){var i=y[e];t.moveTo(i[0],i[1]);for(var r=2,a=i.length;r<a;r+=2)t.lineTo(i[r],i[r+1])}t.fill(),t.beginPath(),t.restore()}}function w(t){return vt[t[0]].fromIR(t)}var P="undefined"==typeof window?this:window,k="undefined"==typeof window,F=[.001,0,0,.001,0,0],D={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};P.PDFJS||(P.PDFJS={}),P.PDFJS.pdfBug=!1,PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var I=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87},R=PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},L=PDFJS.UnsupportedManager=function(){var t=[];return{listen:function(e){t.push(e)},notify:function(n){e('Unsupported feature "'+n+'"');for(var i=0,r=t.length;i<r;i++)t[i](n)}}}();PDFJS.isValidUrl=o;var T=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},E=(function(){function t(t,e){this.name="PasswordException",this.message=t,this.code=e}t.prototype=new Error,t.constructor=t}(),function(){function t(t,e){this.name="UnknownErrorException",this.message=t,this.details=e}t.prototype=new Error,t.constructor=t}(),function(){function t(t){this.name="InvalidPDFException",this.message=t}t.prototype=new Error,t.constructor=t}(),function(){function t(t){this.name="MissingPDFException",this.message=t}t.prototype=new Error,t.constructor=t}(),function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="NotImplementedException",t.constructor=t,t}()),M=(function(){function t(t,e){this.begin=t,this.end=e,this.message="Missing data ["+t+", "+e+")"}t.prototype=new Error,t.prototype.name="MissingDataException",t.constructor=t}(),function(){function t(t){this.message=t}t.prototype=new Error,t.prototype.name="XRefParseException",t.constructor=t}(),[1,0,0,1,0,0]),O=PDFJS.Util=function(){function t(){}return t.makeCssRgb=function(t){return"rgb("+t[0]+","+t[1]+","+t[2]+")"},t.makeCssCmyk=function(e){var n=N.singletons.cmyk.getRgb(e,0);return t.makeCssRgb(n)},t.transform=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},t.applyTransform=function(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]},t.applyInverseTransform=function(t,e){var n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]},t.getAxialAlignedBoundingBox=function(e,n){var i=t.applyTransform(e,n),r=t.applyTransform(e.slice(2,4),n),a=t.applyTransform([e[0],e[3]],n),o=t.applyTransform([e[2],e[1]],n);return[Math.min(i[0],r[0],a[0],o[0]),Math.min(i[1],r[1],a[1],o[1]),Math.max(i[0],r[0],a[0],o[0]),Math.max(i[1],r[1],a[1],o[1])]},t.inverseTransform=function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]},t.apply3dTransform=function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},t.singularValueDecompose2dScale=function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],o=(n+a)/2,s=Math.sqrt((n+a)*(n+a)-4*(n*a-r*i))/2,c=o+s||1,l=o-s||1;return[Math.sqrt(c),Math.sqrt(l)]},t.normalizeRect=function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e},t.intersect=function(e,n){function i(t,e){return t-e}var r=[e[0],e[2],n[0],n[2]].sort(i),a=[e[1],e[3],n[1],n[3]].sort(i),o=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),(r[0]===e[0]&&r[1]===n[0]||r[0]===n[0]&&r[1]===e[0])&&(o[0]=r[1],o[2]=r[2],(a[0]===e[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===e[1])&&(o[1]=a[1],o[3]=a[2],o))},t.sign=function(t){return t<0?-1:1},t.concatenateToArray=function(t,e){Array.prototype.push.apply(t,e)},t.prependToArray=function(t,e){Array.prototype.unshift.apply(t,e)},t.extendObj=function(t,e){for(var n in e)t[n]=e[n]},t.getInheritableProperty=function(t,e){for(;t&&!t.has(e);)t=t.get("Parent");return t?t.get(e):null},t.inherit=function(t,e,n){t.prototype=Object.create(e.prototype),t.prototype.constructor=t;for(var i in n)t.prototype[i]=n[i]},t.loadScript=function(t,e){var n=document.createElement("script"),i=!1;n.setAttribute("src",t),e&&(n.onload=function(){i||e(),i=!0}),document.getElementsByTagName("head")[0].appendChild(n)},t}(),B=(PDFJS.PageViewport=function(){function t(t,e,n,i,r,a){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=i,this.offsetY=r;var o,s,c,l,h=(t[2]+t[0])/2,u=(t[3]+t[1])/2;switch(n%=360,n=n<0?n+360:n){case 180:o=-1,s=0,c=0,l=1;break;case 90:o=0,s=1,c=1,l=0;break;case 270:o=0,s=-1,c=-1,l=0;break;default:o=1,s=0,c=0,l=-1}a&&(c=-c,l=-l);var d,f,p,g;0===o?(d=Math.abs(u-t[1])*e+i,f=Math.abs(h-t[0])*e+r,p=Math.abs(t[3]-t[1])*e,g=Math.abs(t[2]-t[0])*e):(d=Math.abs(h-t[0])*e+i,f=Math.abs(u-t[1])*e+r,p=Math.abs(t[2]-t[0])*e,g=Math.abs(t[3]-t[1])*e),this.transform=[o*e,s*e,c*e,l*e,d-o*e*h-c*e*u,f-s*e*h-l*e*u],this.width=p,this.height=g,this.fontScale=e}return t.prototype={clone:function(e){e=e||{};var n="scale"in e?e.scale:this.scale,i="rotation"in e?e.rotation:this.rotation;return new t(this.viewBox.slice(),n,i,this.offsetX,this.offsetY,e.dontFlip)},convertToViewportPoint:function(t,e){return O.applyTransform([t,e],this.transform)},convertToViewportRectangle:function(t){var e=O.applyTransform([t[0],t[1]],this.transform),n=O.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]},convertToPdfPoint:function(t,e){return O.applyInverseTransform([t,e],this.transform)}},t}(),
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]),_=PDFJS.LegacyPromise=function(){return function(){var t,e,n=new Promise(function(n,i){t=n,e=i});return n.resolve=t,n.reject=e,n}}();!function(){function t(t){this._status=n,this._handlers=[],t.call(this,this._resolve.bind(this),this._reject.bind(this))}if(P.Promise)return"function"!=typeof P.Promise.all&&(P.Promise.all=function(t){var e,n,i=0,r=[],a=new P.Promise(function(t,i){e=t,n=i});return t.forEach(function(t,a){i++,t.then(function(t){r[a]=t,0===--i&&e(r)},n)}),0===i&&e(r),a}),void("function"!=typeof P.Promise.resolve&&(P.Promise.resolve=function(t){return new P.Promise(function(e){e(t)})}));var n=0,i=1,r=2,a=500,o={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(t){t._status!=n&&(this.handlers=this.handlers.concat(t._handlers),t._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var t=1,e=Date.now()+t;this.handlers.length>0;){var n=this.handlers.shift(),a=n.thisPromise._status,o=n.thisPromise._value;try{a===i?"function"==typeof n.onResolve&&(o=n.onResolve(o)):"function"==typeof n.onReject&&(o=n.onReject(o),a=i,n.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(n.thisPromise))}catch(t){a=r,o=t}if(n.nextPromise._updateStatus(a,o),Date.now()>=e)break}if(this.handlers.length>0)return void setTimeout(this.runHandlers.bind(this),0);this.running=!1},addUnhandledRejection:function(t){this.unhandledRejections.push({promise:t,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(t){t._unhandledRejection=!1;for(var e=0;e<this.unhandledRejections.length;e++)this.unhandledRejections[e].promise===t&&(this.unhandledRejections.splice(e),e--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var t=Date.now(),n=0;n<this.unhandledRejections.length;n++)if(t-this.unhandledRejections[n].time>a){var i=this.unhandledRejections[n].promise._value,r="Unhandled rejection: "+i;i.stack&&(r+="\n"+i.stack),e(r),this.unhandledRejections.splice(n),n--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),a))}};t.all=function(e){function n(t){o._status!==r&&(c=[],a(t))}var i,a,o=new t(function(t,e){i=t,a=e}),s=e.length,c=[];if(0===s)return i(c),o;for(var l=0,h=e.length;l<h;++l){var u=e[l],d=function(t){return function(e){o._status!==r&&(c[t]=e,0===--s&&i(c))}}(l);t.isPromise(u)?u.then(d,n):d(u)}return o},t.isPromise=function(t){return t&&"function"==typeof t.then},t.resolve=function(e){return new t(function(t){t(e)})},t.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(e,n){if(this._status!==i&&this._status!==r){if(e==i&&t.isPromise(n))return void n.then(this._updateStatus.bind(this,i),this._updateStatus.bind(this,r));this._status=e,this._value=n,e===r&&0===this._handlers.length&&(this._unhandledRejection=!0,o.addUnhandledRejection(this)),o.scheduleHandlers(this)}},_resolve:function(t){this._updateStatus(i,t)},_reject:function(t){this._updateStatus(r,t)},then:function(e,n){var i=new t(function(t,e){this.resolve=e,this.reject=e});return this._handlers.push({thisPromise:this,onResolve:e,onReject:n,nextPromise:i}),o.scheduleHandlers(this),i}},P.Promise=t}();var j=function(){function t(t,e,n){for(;t.length<n;)t+=e;return t}function n(){this.started={},this.times=[],this.enabled=!0}return n.prototype={time:function(t){this.enabled&&(t in this.started&&e("Timer is already running for "+t),this.started[t]=Date.now())},timeEnd:function(t){this.enabled&&(t in this.started||e("Timer has not been started for "+t),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t])},toString:function(){for(var e=this.times,n="",i=0,r=0,a=e.length;r<a;++r){var o=e[r].name;o.length>i&&(i=o.length)}for(var r=0,a=e.length;r<a;++r){var s=e[r],c=s.end-s.start;n+=t(s.name," ",i)+" "+c+"ms\n"}return n}},n}();PDFJS.createBlob=function(t,e){if("undefined"!=typeof Blob)return new Blob([t],{type:e});var n=new MozBlobBuilder;return n.append(t),n.getBlob(e)},PDFJS.createObjectURL=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(e,n){if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var i=PDFJS.createBlob(e,n);return URL.createObjectURL(i)}for(var r="data:"+n+";base64,",a=0,o=e.length;a<o;a+=3){var s=255&e[a],c=255&e[a+1],l=255&e[a+2],h=s>>2,u=(3&s)<<4|c>>4,d=a+1<o?(15&c)<<2|l>>6:64,f=a+2<o?63&l:64;r+=t[h]+t[u]+t[d]+t[f]}return r}}(),b.prototype={on:function(t,e,i){var r=this.actionHandler;r[t]&&n('There is already an actionName called "'+t+'"'),r[t]=[e,i]},send:function(t,e,n,i){var r={action:t,data:e};if(n){var a=this.callbackIndex++;this.callbacks[a]=n,r.callbackId=a}i&&this.postMessageTransfers?this.comObj.postMessage(r,i):this.comObj.postMessage(r)}};var N=function(){function t(){n("should not call ColorSpace constructor")}return t.prototype={getRgb:function(){n("Should not call ColorSpace.getRgb")},getRgbItem:function(){n("Should not call ColorSpace.getRgbItem")},getRgbBuffer:function(){n("Should not call ColorSpace.getRgbBuffer")},getOutputLength:function(){n("Should not call ColorSpace.getOutputLength")},isPassthrough:function(){return!1},fillRgb:function(t,e,n,i,r,a,o,s){var c=e*n,l=null,h=1<<o,u=n!=r||e!=i;if(this.isPassthrough(o))l=s;else if(1===this.numComps&&c>h&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){for(var d=o<=8?new Uint8Array(h):new Uint16Array(h),f=0;f<h;f++)d[f]=f;var p=new Uint8Array(3*h);if(this.getRgbBuffer(d,0,h,p,0,o,0),u){l=new Uint8Array(3*c);for(var g=0,f=0;f<c;++f){var m=3*s[f];l[g++]=p[m],l[g++]=p[m+1],l[g++]=p[m+2]}}else for(var A=0,f=0;f<c;++f){var m=3*s[f];t[A++]=p[m],t[A++]=p[m+1],t[A++]=p[m+2],A++}}else u?(l=new Uint8Array(3*c),this.getRgbBuffer(s,0,c,l,0,o,0)):this.getRgbBuffer(s,0,i*a,t,0,o,1);if(l){u&&(l=PDFImage.resize(l,o,3,e,n,i,r));for(var g=0,v=i*a*4,f=0;f<v;f+=4)t[f]=l[g++],t[f+1]=l[g++],t[f+2]=l[g++]}},usesZeroToOneRange:!0},t.parse=function(e,n,i){var r=t.parseToIR(e,n,i);return r instanceof J?r:t.fromIR(r)},t.fromIR=function(e){var i=m(e)?e[0]:e;switch(i){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"CalGrayCS":var r=e[1].WhitePoint,a=e[1].BlackPoint,o=e[1].Gamma;return new Y(r,a,o);case"PatternCS":var s=e[1];return s&&(s=t.fromIR(s)),new z(s);case"IndexedCS":var c=e[1],l=e[2],h=e[3];return new W(t.fromIR(c),l,h);case"AlternateCS":var u=e[1],d=e[2],f=e[3];return new J(u,t.fromIR(d),X.fromIR(f));case"LabCS":var r=e[1].WhitePoint,a=e[1].BlackPoint,p=e[1].Range;return new V(r,a,p);default:n("Unkown name "+i)}return null},t.parseToIR=function(e,i,r){if(p(e)){var a=r.get("ColorSpace");if(g(a)){var o=a.get(e.name);o&&(e=o)}}e=i.fetchIfRef(e);var s;if(p(e))switch(s=e.name,this.mode=s,s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:n("unrecognized colorspace "+s)}else if(m(e))switch(s=e[0].name,this.mode=s,s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":var c=e[1].getAll();return["CalGrayCS",c];case"CalRGB":return"DeviceRgbCS";case"ICCBased":var l=i.fetchIfRef(e[1]),h=l.dict,u=h.get("N");if(1==u)return"DeviceGrayCS";if(3==u)return"DeviceRgbCS";if(4==u)return"DeviceCmykCS";break;case"Pattern":var d=e[1];return d&&(d=t.parseToIR(d,i,r)),["PatternCS",d];case"Indexed":case"I":var f=t.parseToIR(e[1],i,r),v=e[2]+1,b=i.fetchIfRef(e[3]);return A(b)&&(b=b.getBytes()),["IndexedCS",f,v,b];case"Separation":case"DeviceN":var y=e[1],u=1;p(y)?u=1:m(y)&&(u=y.length);var x=t.parseToIR(e[2],i,r),S=X.getIR(i,i.fetchIfRef(e[3]));return["AlternateCS",u,x,S];case"Lab":var c=e[1].getAll();return["LabCS",c];default:n('unimplemented color space object "'+s+'"')}else n('unrecognized color space object: "'+e+'"');return null},t.isDefaultDecode=function(t,n){if(!t)return!0;if(2*n!==t.length)return e("The decode map is not the correct length"),!0;for(var i=0,r=t.length;i<r;i+=2)if(0!==t[i]||1!=t[i+1])return!1;return!0},t.singletons={get gray(){return s(this,"gray",new U)},get rgb(){return s(this,"rgb",new G)},get cmyk(){return s(this,"cmyk",new H)}},t}(),J=function(){function t(t,e,n){this.name="Alternate",this.numComps=t,this.defaultColor=new Float32Array(t);for(var i=0;i<t;++i)this.defaultColor[i]=1;this.base=e,this.tintFn=n}return t.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return this.getRgbItem(t,e,n,0),n},getRgbItem:function(t,e,n,i){var r=(this.base.numComps,"subarray"in t?t.subarray(e,e+this.numComps):Array.prototype.slice.call(t,e,e+this.numComps)),a=this.tintFn(r);this.base.getRgbItem(a,0,n,i)},getRgbBuffer:function(t,e,n,i,r,a,o){for(var s=this.tintFn,c=this.base,l=1/((1<<a)-1),h=c.numComps,u=c.usesZeroToOneRange,d=(c.isPassthrough(8)||!u)&&0===o,f=d?r:0,p=d?i:new Uint8Array(h*n),g=this.numComps,m=new Float32Array(g),A=0;A<n;A++){for(var v=0;v<g;v++)m[v]=t[e++]*l;var b=s(m);if(u)for(var v=0;v<h;v++)p[f++]=255*b[v];else c.getRgbItem(b,0,p,f),f+=h}d||c.getRgbBuffer(p,0,n,i,r,8,o)},getOutputLength:function(t,e){return this.base.getOutputLength(t*this.base.numComps/this.numComps,e)},isPassthrough:N.prototype.isPassthrough,fillRgb:N.prototype.fillRgb,isDefaultDecode:function(t){return N.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},t}(),z=function(){function t(t){this.name="Pattern",this.base=t}return t.prototype={},t}(),W=function(){function t(t,e,i){this.name="Indexed",this.numComps=1,this.defaultColor=new Uint8Array([0]),this.base=t,this.highVal=e;var r,a=t.numComps,o=a*e;if(A(i)){r=new Uint8Array(o);var s=i.getBytes(o);r.set(s)}else if(f(i)){r=new Uint8Array(o);for(var c=0;c<o;++c)r[c]=i.charCodeAt(c)}else i instanceof Uint8Array||i instanceof Array?r=i:n("Unrecognized lookup table: "+i);this.lookup=r}return t.prototype={getRgb:function(t,e){var n=this.base.numComps,i=t[e]*n;return this.base.getRgb(this.lookup,i)},getRgbItem:function(t,e,n,i){var r=this.base.numComps,a=t[e]*r;this.base.getRgbItem(this.lookup,a,n,i)},getRgbBuffer:function(t,e,n,i,r,a,o){for(var s=this.base,c=s.numComps,l=s.getOutputLength(c,o),h=this.lookup,u=0;u<n;++u){var d=t[e++]*c;s.getRgbBuffer(h,d,1,i,r,8,o),r+=l}},getOutputLength:function(t,e){return this.base.getOutputLength(t*this.base.numComps,e)},isPassthrough:N.prototype.isPassthrough,fillRgb:N.prototype.fillRgb,isDefaultDecode:function(){return!0},usesZeroToOneRange:!0},t}(),U=function(){function t(){this.name="DeviceGray",this.numComps=1,this.defaultColor=new Float32Array([0])}return t.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return this.getRgbItem(t,e,n,0),n},getRgbItem:function(t,e,n,i){var r=255*t[e]|0;r=r<0?0:r>255?255:r,n[i]=n[i+1]=n[i+2]=r},getRgbBuffer:function(t,e,n,i,r,a,o){for(var s=255/((1<<a)-1),c=e,l=r,h=0;h<n;++h){var u=s*t[c++]|0;i[l++]=u,i[l++]=u,i[l++]=u,l+=o}},getOutputLength:function(t,e){return t*(3+e)},isPassthrough:N.prototype.isPassthrough,fillRgb:N.prototype.fillRgb,isDefaultDecode:function(t){return N.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},t}(),G=function(){function t(){this.name="DeviceRGB",this.numComps=3,this.defaultColor=new Float32Array([0,0,0])}return t.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return this.getRgbItem(t,e,n,0),n},getRgbItem:function(t,e,n,i){var r=255*t[e]|0,a=255*t[e+1]|0,o=255*t[e+2]|0;n[i]=r<0?0:r>255?255:r,n[i+1]=a<0?0:a>255?255:a,n[i+2]=o<0?0:o>255?255:o},getRgbBuffer:function(t,e,n,i,r,a,o){if(8===a&&0===o)return void i.set(t.subarray(e,e+3*n),r);for(var s=255/((1<<a)-1),c=e,l=r,h=0;h<n;++h)i[l++]=s*t[c++]|0,i[l++]=s*t[c++]|0,i[l++]=s*t[c++]|0,l+=o},getOutputLength:function(t,e){return t*(3+e)/3|0},isPassthrough:function(t){return 8==t},fillRgb:N.prototype.fillRgb,isDefaultDecode:function(t){return N.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},t}(),H=function(){function t(t,e,n,i,r){var a=t[e+0]*n,o=t[e+1]*n,s=t[e+2]*n,c=t[e+3]*n,l=a*(-4.387332384609988*a+54.48615194189176*o+18.82290502165302*s+212.25662451639585*c-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*s+-17.873870861415444*c-5.497006427196366)+s*(-2.5217340131683033*s-21.248923337353073*c+17.5119270841813)+c*(-21.86122147463605*c-189.48180835922747)+255,h=a*(8.841041422036149*a+60.118027045597366*o+6.871425592049007*s+31.159100130055922*c-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*s+131.35250912493976*c-190.9453302588951)+s*(4.444339102852739*s+9.8632861493405*c-24.86741582555878)+c*(-20.737325471181034*c-187.80453709719578)+255,u=a*(.8842522430003296*a+8.078677503112928*o+30.89978309703729*s-.23883238689178934*c-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*s+50.606957656360734*c-112.23884253719248)+s*(.03296041114873217*s+115.60384449646641*c-193.58209356861505)+c*(-22.33816807309886*c-180.12613974708367)+255;i[r]=l>255?255:l<0?0:l,i[r+1]=h>255?255:h<0?0:h,i[r+2]=u>255?255:u<0?0:u}function e(){this.name="DeviceCMYK",this.numComps=4,this.defaultColor=new Float32Array([0,0,0,1])}return e.prototype={getRgb:function(e,n){var i=new Uint8Array(3);return t(e,n,1,i,0),i},getRgbItem:function(e,n,i,r){t(e,n,1,i,r)},getRgbBuffer:function(e,n,i,r,a,o,s){for(var c=1/((1<<o)-1),l=0;l<i;l++)t(e,n,c,r,a),n+=4,a+=3+s},getOutputLength:function(t,e){return t/4*(3+e)|0},isPassthrough:N.prototype.isPassthrough,fillRgb:N.prototype.fillRgb,isDefaultDecode:function(t){return N.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},e}(),Y=function(){function i(i,r,a){this.name="CalGray",this.numComps=1,this.defaultColor=new Float32Array([0]),i||n("WhitePoint missing - required for color space CalGray"),r=r||[0,0,0],a=a||1,this.XW=i[0],this.YW=i[1],this.ZW=i[2],this.XB=r[0],this.YB=r[1],this.ZB=r[2],this.G=a,(this.XW<0||this.ZW<0||1!==this.YW)&&n("Invalid WhitePoint components for "+this.name+", no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(t("Invalid BlackPoint for "+this.name+", falling back to default"),this.XB=this.YB=this.ZB=0),0===this.XB&&0===this.YB&&0===this.ZB||e(this.name+", BlackPoint: XB: "+this.XB+", YB: "+this.YB+", ZB: "+this.ZB+", only default values are supported."),this.G<1&&(t("Invalid Gamma: "+this.G+" for "+this.name+", falling back to default"),this.G=1)}function r(t,e,n,i,r,a){var o=e[n]*a,s=Math.pow(o,t.G),c=(t.XW,t.YW*s),l=(t.ZW,c),h=Math.max(116*Math.pow(l,1/3)-16,0);i[r]=255*h/100,i[r+1]=255*h/100,i[r+2]=255*h/100}return i.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return this.getRgbItem(t,e,n,0),n},getRgbItem:function(t,e,n,i){r(this,t,e,n,i,1)},getRgbBuffer:function(t,e,n,i,a,o,s){for(var c=1/((1<<o)-1),l=0;l<n;++l)r(this,t,e,i,a,c),e+=1,a+=3+s},getOutputLength:function(t,e){return t*(3+e)},isPassthrough:N.prototype.isPassthrough,fillRgb:N.prototype.fillRgb,isDefaultDecode:function(t){return N.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},i}(),V=function(){function e(e,i,r){this.name="Lab",this.numComps=3,this.defaultColor=new Float32Array([0,0,0]),e||n("WhitePoint missing - required for color space Lab"),i=i||[0,0,0],r=r||[-100,100,-100,100],this.XW=e[0],this.YW=e[1],this.ZW=e[2],this.amin=r[0],this.amax=r[1],this.bmin=r[2],this.bmax=r[3],this.XB=i[0],this.YB=i[1],this.ZB=i[2],(this.XW<0||this.ZW<0||1!==this.YW)&&n("Invalid WhitePoint components, no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(t("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(t("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}function i(t){return t>=6/29?t*t*t:108/841*(t-4/29)}function r(t,e,n,i){return n+t*(i-n)/e}function a(t,e,n,a,o,s){var c=e[n],l=e[n+1],h=e[n+2];!1!==a&&(c=r(c,a,0,100),l=r(l,a,t.amin,t.amax),h=r(h,a,t.bmin,t.bmax)),l=l>t.amax?t.amax:l<t.amin?t.amin:l,h=h>t.bmax?t.bmax:h<t.bmin?t.bmin:h;var u,d,f,p=(c+16)/116,g=p+l/500,m=p-h/200,A=t.XW*i(g),v=t.YW*i(p),b=t.ZW*i(m);t.ZW<1?(u=3.1339*A+-1.617*v+-.4906*b,d=-.9785*A+1.916*v+.0333*b,f=.072*A+-.229*v+1.4057*b):(u=3.2406*A+-1.5372*v+-.4986*b,d=-.9689*A+1.8758*v+.0415*b,f=.0557*A+-.204*v+1.057*b),o[s]=255*Math.sqrt(u<0?0:u>1?1:u),o[s+1]=255*Math.sqrt(d<0?0:d>1?1:d),o[s+2]=255*Math.sqrt(f<0?0:f>1?1:f)}return e.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return a(this,t,e,!1,n,0),n},getRgbItem:function(t,e,n,i){a(this,t,e,!1,n,i)},getRgbBuffer:function(t,e,n,i,r,o,s){for(var c=(1<<o)-1,l=0;l<n;l++)a(this,t,e,c,i,r),e+=3,r+=3+s},getOutputLength:function(t,e){return t*(3+e)/3|0},isPassthrough:N.prototype.isPassthrough,isDefaultDecode:function(){return!0},usesZeroToOneRange:!1},e}(),X=function(){var e=0,i=2,r=3;return{getSampleArray:function(t,e,n,i){for(var r=1,a=0,o=t.length;a<o;a++)r*=t[a];r*=e;for(var s=[],c=0,l=0,h=1/(Math.pow(2,n)-1),u=i.getBytes((r*n+7)/8),d=0,a=0;a<r;a++){for(;c<n;)l<<=8,l|=u[d++],c+=8;c-=n,s.push((l>>c)*h),l&=(1<<c)-1}return s},getIR:function(t,e){var i=e.dict;i||(i=e);var r=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript],a=i.get("FunctionType"),o=r[a];return o||n("Unknown type of function"),o.call(this,e,i,t)},fromIR:function(t){switch(t[0]){case e:return this.constructSampledFromIR(t);case i:return this.constructInterpolatedFromIR(t);case r:return this.constructStichedFromIR(t);default:return this.constructPostScriptFromIR(t)}},parse:function(t,e){var n=this.getIR(t,e);return this.fromIR(n)},constructSampled:function(i,r){function a(t){for(var e=t.length,n=(t.length,[]),i=0,r=0;r<e;r+=2)n[i]=[t[r],t[r+1]],++i;return n}var o=r.get("Domain"),s=r.get("Range");o&&s||n("No domain or range");var c=o.length/2,l=s.length/2;o=a(o),s=a(s);var h=r.get("Size"),u=r.get("BitsPerSample"),d=r.get("Order")||1;1!==d&&t("No support for cubic spline interpolation: "+d);var f=r.get("Encode");if(!f){f=[];for(var p=0;p<c;++p)f.push(0),f.push(h[p]-1)}f=a(f);var g=r.get("Decode");g=g?a(g):s;var m=this.getSampleArray(h,l,u,i);return[e,c,o,f,g,m,h,l,Math.pow(2,u)-1,s]},constructSampledFromIR:function(t){function e(t,e,n,i,r){return i+(r-i)/(n-e)*(t-e)}return function(i){var r=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],h=t[7],u=(t[8],t[9]);r!=i.length&&n("Incorrect number of arguments: "+r+" != "+i.length);for(var d=i,f=1<<r,p=new Float64Array(f),g=new Uint32Array(f),m=0;m<f;m++)p[m]=1;for(var A=h,v=1,b=0;b<r;++b){var y=a[b][0],x=a[b][1],S=Math.min(Math.max(d[b],y),x),C=e(S,y,x,o[b][0],o[b][1]),w=l[b];C=Math.min(Math.max(C,0),w-1);for(var P=C<w-1?Math.floor(C):C-1,k=P+1-C,F=C-P,D=P*A,I=D+A,m=0;m<f;m++)m&v?(p[m]*=F,g[m]+=I):(p[m]*=k,g[m]+=D);A*=w,v<<=1}for(var R=new Float64Array(h),m=0;m<h;++m){for(var L=0,b=0;b<f;b++)L+=c[g[b]+m]*p[b];L=e(L,0,1,s[m][0],s[m][1]),R[m]=Math.min(Math.max(L,u[m][0]),u[m][1])}return R}},constructInterpolated:function(t,e){var r=e.get("C0")||[0],a=e.get("C1")||[1],o=e.get("N");m(r)&&m(a)||n("Illegal dictionary for interpolated function");for(var s=r.length,c=[],l=0;l<s;++l)c.push(a[l]-r[l]);return[i,r,c,o]},constructInterpolatedFromIR:function(t){var e=t[1],n=t[2],i=t[3],r=n.length;return function(t){for(var a=1==i?t[0]:Math.pow(t[0],i),o=[],s=0;s<r;++s)o.push(e[s]+a*n[s]);return o}},constructStiched:function(t,e,i){var a=e.get("Domain");a||n("No domain"),1!=a.length/2&&n("Bad domain for stiched function");for(var o=e.get("Functions"),s=[],c=0,l=o.length;c<l;++c)s.push(X.getIR(i,i.fetchIfRef(o[c])));var h=e.get("Bounds"),u=e.get("Encode");return[r,a,h,u,s]},constructStichedFromIR:function(t){for(var e=t[1],n=t[2],i=t[3],r=t[4],a=[],o=0,s=r.length;o<s;o++)a.push(X.fromIR(r[o]));return function(t){for(var r=function(t,e,n){return t>n?t=n:t<e&&(t=e),t},o=r(t[0],e[0],e[1]),s=0,c=n.length;s<c&&!(o<n[s]);++s);var l=e[0];s>0&&(l=n[s-1]);var h=e[1];s<n.length&&(h=n[s]);var u=i[2*s],d=i[2*s+1],f=u+(o-l)*(d-u)/(h-l);return a[s]([f])}},constructPostScript:function(t,e){var i=e.get("Domain"),r=e.get("Range");i||n("No domain."),r||n("No range.");var a=new et(t);return[4,i,r,new K(a).parse()]},constructPostScriptFromIR:function(t){var e=t[1],n=t[2],i=t[3],r=n.length/2,a=new Z(i),o=new q;return function(t){for(var i=[],s=0,c=e.length/2;s<c;++s)i.push(t[s]);var l=i.join("_");if(o.has(l))return o.get(l);var h=a.execute(i),u=[];for(s=r-1;s>=0;--s){var d=h.pop(),f=2*s;d<n[f]?d=n[f]:d>n[f+1]&&(d=n[f+1]),u[s]=d}return o.set(l,u),u}}}}(),q=function(){function t(){this.cache={},this.total=0}return t.prototype={has:function(t){return t in this.cache},get:function(t){return this.cache[t]},set:function(t,e){this.total<1024&&(this.cache[t]=e,this.total++)}},t}(),Q=function(){function t(t){this.stack=t||[]}var e=100;return t.prototype={push:function(t){this.stack.length>=e&&n("PostScript function stack overflow."),this.stack.push(t)},pop:function(){return this.stack.length<=0&&n("PostScript function stack underflow."),this.stack.pop()},copy:function(t){this.stack.length+t>=e&&n("PostScript function stack overflow.");for(var i=this.stack,r=i.length-t,a=t-1;a>=0;a--,r++)i.push(i[r])},index:function(t){this.push(this.stack[this.stack.length-t-1])},roll:function(t,e){var n,i,r,a=this.stack,o=a.length-t,s=a.length-1,c=o+(e-Math.floor(e/t)*t);for(n=o,i=s;n<i;n++,i--)r=a[n],a[n]=a[i],a[i]=r;for(n=o,i=c-1;n<i;n++,i--)r=a[n],a[n]=a[i],a[i]=r;for(n=c,i=s;n<i;n++,i--)r=a[n],a[n]=a[i],a[i]=r}},t}(),Z=function(){function t(t,e){this.operators=t,this.operands=e}return t.prototype={execute:function(t){for(var e,i,r,a=new Q(t),o=0,s=this.operators,c=s.length;o<c;)if("number"!=typeof(e=s[o++]))switch(e){case"jz":r=a.pop(),i=a.pop(),i||(o=r);break;case"j":i=a.pop(),o=i;break;case"abs":i=a.pop(),a.push(Math.abs(i));break;case"add":r=a.pop(),i=a.pop(),a.push(i+r);break;case"and":r=a.pop(),i=a.pop(),u(i)&&u(r)?a.push(i&&r):a.push(i&r);break;case"atan":i=a.pop(),a.push(Math.atan(i));break;case"bitshift":r=a.pop(),i=a.pop(),i>0?a.push(i<<r):a.push(i>>r);break;case"ceiling":i=a.pop(),a.push(Math.ceil(i));break;case"copy":i=a.pop(),a.copy(i);break;case"cos":i=a.pop(),a.push(Math.cos(i));break;case"cvi":i=0|a.pop(),a.push(i);break;case"cvr":break;case"div":r=a.pop(),i=a.pop(),a.push(i/r);break;case"dup":a.copy(1);break;case"eq":r=a.pop(),i=a.pop(),a.push(i==r);break;case"exch":a.roll(2,1);break;case"exp":r=a.pop(),i=a.pop(),a.push(Math.pow(i,r));break;case"false":a.push(!1);break;case"floor":i=a.pop(),a.push(Math.floor(i));break;case"ge":r=a.pop(),i=a.pop(),a.push(i>=r);break;case"gt":r=a.pop(),i=a.pop(),a.push(i>r);break;case"idiv":r=a.pop(),i=a.pop(),a.push(i/r|0);break;case"index":i=a.pop(),a.index(i);break;case"le":r=a.pop(),i=a.pop(),a.push(i<=r);break;case"ln":i=a.pop(),a.push(Math.log(i));break;case"log":i=a.pop(),a.push(Math.log(i)/Math.LN10);break;case"lt":r=a.pop(),i=a.pop(),a.push(i<r);break;case"mod":r=a.pop(),i=a.pop(),a.push(i%r);break;case"mul":r=a.pop(),i=a.pop(),a.push(i*r);break;case"ne":r=a.pop(),i=a.pop(),a.push(i!=r);break;case"neg":i=a.pop(),a.push(-r);break;case"not":i=a.pop(),u(i)&&u(r)?a.push(i&&r):a.push(i&r);break;case"or":r=a.pop(),i=a.pop(),u(i)&&u(r)?a.push(i||r):a.push(i|r);break;case"pop":a.pop();break;case"roll":r=a.pop(),i=a.pop(),a.roll(i,r);break;case"round":i=a.pop(),a.push(Math.round(i));break;case"sin":i=a.pop(),a.push(Math.sin(i));break;case"sqrt":i=a.pop(),a.push(Math.sqrt(i));break;case"sub":r=a.pop(),i=a.pop(),a.push(i-r);break;case"true":a.push(!0);break;case"truncate":i=a.pop(),i=i<0?Math.ceil(i):Math.floor(i),a.push(i);break;case"xor":r=a.pop(),i=a.pop(),u(i)&&u(r)?a.push(i!=r):a.push(i^r);break;default:n("Unknown operator "+e)}else a.push(e);return a.stack}},t}(),K=function(){function t(t){this.lexer=t,this.operators=[],this.token=null,this.prev=null}return t.prototype={nextToken:function(){this.prev=this.token,this.token=this.lexer.getToken()},accept:function(t){return this.token.type==t&&(this.nextToken(),!0)},expect:function(t){if(this.accept(t))return!0;n("Unexpected symbol: found "+this.token.type+" expected "+t+".")},parse:function(){return this.nextToken(),this.expect($.LBRACE),this.parseBlock(),this.expect($.RBRACE),this.operators},parseBlock:function(){for(;;)if(this.accept($.NUMBER))this.operators.push(this.prev.value);else if(this.accept($.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept($.LBRACE))return;this.parseCondition()}},parseCondition:function(){var t=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect($.RBRACE),this.accept($.IF))this.operators[t]=this.operators.length,this.operators[t+1]="jz";else if(this.accept($.LBRACE)){var e=this.operators.length;this.operators.push(null,null);var i=this.operators.length;this.parseBlock(),this.expect($.RBRACE),this.expect($.IFELSE),this.operators[e]=this.operators.length,this.operators[e+1]="j",this.operators[t]=i,this.operators[t+1]="jz"}else n("PS Function: error parsing conditional.")}},t}(),$={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},tt=function(){function t(t,e){this.type=t,this.value=e}var e={};return t.getOperator=function(n){var i=e[n];return i||(e[n]=new t($.OPERATOR,n))},t.LBRACE=new t($.LBRACE,"{"),t.RBRACE=new t($.RBRACE,"}"),t.IF=new t($.IF,"IF"),t.IFELSE=new t($.IFELSE,"IFELSE"),t}(),et=function(){function t(t){this.stream=t,this.nextChar()}return t.prototype={nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var t=!1,e=this.currentChar;;){if(e<0)return EOF;if(t)10!==e&&13!==e||(t=!1);else if(37==e)t=!0;else if(!Lexer.isSpace(e))break;e=this.nextChar()}switch(0|e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new tt($.NUMBER,this.getNumber());case 123:return this.nextChar(),tt.LBRACE;case 125:return this.nextChar(),tt.RBRACE}for(var n=String.fromCharCode(e);(e=this.nextChar())>=0&&(e>=65&&e<=90||e>=97&&e<=122);)n+=String.fromCharCode(e);switch(n.toLowerCase()){case"if":return tt.IF;case"ifelse":return tt.IFELSE;default:return tt.getOperator(n)}},getNumber:function(){for(var t=this.currentChar,e=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=48&&t<=57||45===t||46===t);)e+=String.fromCharCode(t);var i=parseFloat(e);return isNaN(i)&&n("Invalid floating point number: "+i),i}},t}(),nt=function(){function t(t,e,n){var i=O.getAxialAlignedBoundingBox(e,n),r=i[0],a=i[1],o=i[2],s=i[3];if(r===o||a===s)return[1,0,0,1,t[0],t[1]];var c=(t[2]-t[0])/(o-r),l=(t[3]-t[1])/(s-a);return[c,0,0,l,t[0]-r*c,t[1]-a*l]}function n(t){var e=t.get("AP");if(g(e)){var n,i=e.get("N");if(g(i)){var r=t.get("AS");r&&i.has(r.name)&&(n=i.get(r.name))}else n=i;return n}}function i(t){if(t.data)return void(this.data=t.data);var e=t.dict,i=this.data={};i.subtype=e.get("Subtype").name;var r=e.get("Rect");i.rect=O.normalizeRect(r),i.annotationFlags=e.get("F");var a=e.get("C");if(m(a)&&3===a.length?i.color=a:i.color=[0,0,0],e.has("BS")){var o=e.get("BS");i.borderWidth=o.has("W")?o.get("W"):1}else{var s=e.get("Border")||[0,0,1];i.borderWidth=s[2]||0;var c=s[3];if(i.borderWidth>0&&c&&m(c)){var l=c.length;if(l>0){for(var h=!1,u=0,d=0;d<l;d++){if(!(+c[d]>=0)){h=!0;break}c[d]>0&&u++}(h||0===u)&&(i.borderWidth=0)}}}this.appearance=n(e),i.hasAppearance=!!this.appearance}return i.prototype={getData:function(){return this.data},hasHtml:function(){return!1},getHtmlElement:function(){throw new E("getHtmlElement() should be implemented in subclass")},getEmptyContainer:function(t,e){r(!k,"getEmptyContainer() should be called from main thread"),e=e||this.data.rect;var n=document.createElement(t);return n.style.width=Math.ceil(e[2]-e[0])+"px",n.style.height=Math.ceil(e[3]-e[1])+"px",n},isViewable:function(){var t=this.data;return!(!t||t.annotationFlags&&34&t.annotationFlags||!t.rect)},loadResources:function(t){var e=new _;return this.appearance.dict.getAsync("Resources").then(function(n){if(!n)return void e.resolve();new ObjectLoader(n.map,t,n.xref).load().then(function(){e.resolve(n)})}.bind(this)),e},getOperatorList:function(e){var n=new _;if(!this.appearance)return n.resolve(new OperatorList),n;var i=this.data,r=this.appearance.dict,a=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),o=r.get("BBox")||[0,0,1,1],s=r.get("Matrix")||[1,0,0,1,0,0],c=t(i.rect,o,s);i.border;return a.then(function(t){var r=new OperatorList;r.addOp(I.beginAnnotation,[i.rect,c,s]),e.getOperatorList(this.appearance,t,r),r.addOp(I.endAnnotation,[]),n.resolve(r)}.bind(this)),n}},i.getConstructor=function(t,e){if(t){if("Link"===t)return ot;if("Text"===t)return at;if("Widget"===t){if(!e)return;return"Tx"===e?rt:it}return i}},i.fromData=function(t){var e=t.subtype,n=t.fieldType,r=i.getConstructor(e,n);if(r)return new r({data:t})},i.fromRef=function(t,n){var r=t.fetchIfRef(n);if(g(r)){var a=r.get("Subtype");if(a=p(a)?a.name:""){var o=O.getInheritableProperty(r,"FT");o=p(o)?o.name:"";var s=i.getConstructor(a,o);if(s){var c={dict:r,ref:n},l=new s(c);if(l.isViewable())return l;e("unimplemented annotation type: "+a)}}}},i.appendToOperatorList=function(t,e,n,i){function r(t){a.reject(t)}for(var a=new _,o=[],s=0,c=t.length;s<c;++s)o.push(t[s].getOperatorList(i));return Promise.all(o).then(function(t){e.addOp(I.beginAnnotations,[]);for(var n=0,i=t.length;n<i;++n){var r=t[n];e.addOpList(r)}e.addOp(I.endAnnotations,[]),a.resolve()},r),a},i}();PDFJS.Annotation=nt;var it=function(){function t(t){if(nt.call(this,t),!t.data){var e=t.dict,n=this.data;n.fieldValue=h(O.getInheritableProperty(e,"V")||""),n.alternativeText=h(e.get("TU")||""),n.defaultAppearance=O.getInheritableProperty(e,"DA")||"";var i=O.getInheritableProperty(e,"FT");n.fieldType=p(i)?i.name:"",n.fieldFlags=O.getInheritableProperty(e,"Ff")||0,this.fieldResources=O.getInheritableProperty(e,"DR")||new Dict;for(var r=[],a=e,o=t.ref;a;){var s=a.get("Parent"),c=a.getRaw("Parent"),l=a.get("T");if(l)r.unshift(h(l));else{var u,d,f=s.get("Kids");for(u=0,d=f.length;u<d;u++){var g=f[u];if(g.num==o.num&&g.gen==o.gen)break}r.unshift("`"+u)}a=s,o=c}n.fullName=r.join(".")}}var n=nt.prototype;return O.inherit(t,nt,{isViewable:function(){return"Sig"===this.data.fieldType?(e("unimplemented annotation type: Widget signature"),!1):n.isViewable.call(this)}}),t}(),rt=function(){function t(t){it.call(this,t),t.data||(this.data.textAlignment=O.getInheritableProperty(t.dict,"Q"))}function e(t,e,n){var i=t.style;if(i.fontSize=e.fontSize+"px",i.direction=e.fontDirection<0?"rtl":"ltr",n){i.fontWeight=n.black?n.bold?"bolder":"bold":n.bold?"bold":"normal",i.fontStyle=n.italic?"italic":"normal";var r=n.loadedName,a=r?'"'+r+'", ':"",o=n.fallbackName||"Helvetica, sans-serif";i.fontFamily=a+o}}it.prototype;return O.inherit(t,it,{hasHtml:function(){return!this.data.hasAppearance&&!!this.data.fieldValue},getHtmlElement:function(t){r(!k,"getHtmlElement() shall be called from main thread");var n=this.data,i=this.getEmptyContainer("div");i.style.display="table";var a=document.createElement("div");a.textContent=n.fieldValue;var o=n.textAlignment;a.style.textAlign=["left","center","right"][o],a.style.verticalAlign="middle",a.style.display="table-cell";var s=n.fontRefName?t.getData(n.fontRefName):null;e(a,n,s);return i.appendChild(a),i},getOperatorList:function(t){if(this.appearance)return nt.prototype.getOperatorList.call(this,t);var e=new _,n=new OperatorList,i=this.data,r=i.defaultAppearance;if(!r)return e.resolve(n),e;var a=new Stream(l(r));t.getOperatorList(a,this.fieldResources,n);var o=n.fnArray,s=n.argsArray,c=[];i.rgb=[0,0,0];for(var h=0,u=c.length;h<u;++h){var d=o[h],f=s[h];if(d===I.setFont){i.fontRefName=f[0];var p=f[1];p<0?(i.fontDirection=-1,i.fontSize=-p):(i.fontDirection=1,i.fontSize=p)}else if(d===I.setFillRGBColor)i.rgb=f;else if(d===I.setFillGray){var g=255*f[0];i.rgb=[g,g,g]}}return e.resolve(n),e}}),t}(),at=function(){function t(t){if(nt.call(this,t),!t.data){var e=t.dict,n=this.data,i=e.get("Contents"),r=e.get("T");n.content=h(i||""),n.title=h(r||""),n.name=e.has("Name")?e.get("Name").name:"Note"}}var e=10;return O.inherit(t,nt,{getOperatorList:function(){var t=new _;return t.resolve(new OperatorList),t},hasHtml:function(){return!0},getHtmlElement:function(){r(!k,"getHtmlElement() shall be called from main thread");var t=this.data,n=t.rect;n[3]-n[1]<e&&(n[3]=n[1]+e),
n[2]-n[0]<e&&(n[2]=n[0]+(n[3]-n[1]));var i=this.getEmptyContainer("section",n);i.className="annotText";var a=document.createElement("img");a.style.height=i.style.height;var o=t.name;a.src=PDFJS.imageResourcesPath+"annotation-"+o.toLowerCase()+".svg",a.alt="[{{type}} Annotation]",a.dataset.l10nId="text_annotation_type",a.dataset.l10nArgs=JSON.stringify({type:o});var s=document.createElement("div");s.setAttribute("hidden",!0);var c=document.createElement("h1"),l=document.createElement("p");if(s.style.left=Math.floor(n[2]-n[0])+"px",s.style.top="0px",c.textContent=t.title,t.content||t.title){for(var h=document.createElement("span"),u=t.content.split(/(?:\r\n?|\n)/),d=0,f=u.length;d<f;++d){var p=u[d];h.appendChild(document.createTextNode(p)),d<f-1&&h.appendChild(document.createElement("br"))}l.appendChild(h);var g=function(){i.style.zIndex+=1,s.removeAttribute("hidden")},m=function(t){(t.toElement||t.relatedTarget)&&(i.style.zIndex-=1,s.setAttribute("hidden",!0))};s.addEventListener("mouseover",g,!1),s.addEventListener("mouseout",m,!1),a.addEventListener("mouseover",g,!1),a.addEventListener("mouseout",m,!1)}else s.setAttribute("hidden",!0);return s.appendChild(c),s.appendChild(l),i.appendChild(a),i.appendChild(s),i}}),t}(),ot=function(){function t(t){if(nt.call(this,t),!t.data){var i=t.dict,r=this.data,a=i.get("A");if(a){var s=a.get("S").name;if("URI"===s){var c=a.get("URI");c=p(c)?"/"+c.name:n(c),o(c,!1)||(c=""),r.url=c}else if("GoTo"===s)r.dest=a.get("D");else if("GoToR"===s){var l=a.get("F");g(l)&&(c=l.get("F")||""),o(c,!1)||(c=""),r.url=c,r.dest=a.get("D")}else"Named"===s?r.action=a.get("N").name:e("unrecognized link type: "+s)}else if(i.has("Dest")){var h=i.get("Dest");r.dest=p(h)?h.name:h}}}function n(t){return 0===t.indexOf("www.")?"http://"+t:t}return O.inherit(t,nt,{hasOperatorList:function(){return!1},hasHtml:function(){return!0},getHtmlElement:function(){var t=this.data.rect,e=document.createElement("a"),n=this.data.borderWidth;e.style.borderWidth=n+"px";for(var i=this.data.color,r=[],a=0;a<3;++a)r[a]=Math.round(255*i[a]);e.style.borderColor=O.makeCssRgb(r),e.style.borderStyle="solid";var o=t[2]-t[0]-2*n,s=t[3]-t[1]-2*n;return e.style.width=o+"px",e.style.height=s+"px",e.href=this.data.url||"",e}}),t}();PDFJS.maxImageSize=PDFJS.maxImageSize===undefined?-1:PDFJS.maxImageSize,PDFJS.disableFontFace=PDFJS.disableFontFace!==undefined&&PDFJS.disableFontFace,PDFJS.imageResourcesPath=PDFJS.imageResourcesPath===undefined?"":PDFJS.imageResourcesPath,PDFJS.disableWorker=PDFJS.disableWorker!==undefined&&PDFJS.disableWorker,PDFJS.workerSrc=PDFJS.workerSrc===undefined?null:PDFJS.workerSrc,PDFJS.disableRange=PDFJS.disableRange!==undefined&&PDFJS.disableRange,PDFJS.disableAutoFetch=PDFJS.disableAutoFetch!==undefined&&PDFJS.disableAutoFetch,PDFJS.pdfBug=PDFJS.pdfBug!==undefined&&PDFJS.pdfBug,PDFJS.postMessageTransfers=PDFJS.postMessageTransfers===undefined||PDFJS.postMessageTransfers,PDFJS.disableCreateObjectURL=PDFJS.disableCreateObjectURL!==undefined&&PDFJS.disableCreateObjectURL,PDFJS.verbosity=PDFJS.verbosity===undefined?PDFJS.VERBOSITY_LEVELS.warnings:PDFJS.verbosity,PDFJS.getDocument=function(t,e,i,r){var o,s,c;"string"==typeof t?t={url:t}:v(t)?t={data:t}:"object"!=typeof t&&n("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),t.url||t.data||n("Invalid parameter array, need either .data or .url");var l={};for(var h in t)"url"!==h||"undefined"==typeof window?l[h]=t[h]:l[h]=a(window.location.href,t[h]);return o=new PDFJS.LegacyPromise,s=new PDFJS.LegacyPromise,c=new lt(o,s,e,r),o.then(function(){c.passwordCallback=i,c.fetchDocument(l)}),s};var st=function(){function t(t,e){this.pdfInfo=t,this.transport=e}return t.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},get embeddedFontsUsed(){return this.transport.embeddedFontsUsed},getPage:function(t){return this.transport.getPage(t)},getPageIndex:function(t){return this.transport.getPageIndex(t)},getDestinations:function(){return this.transport.getDestinations()},getJavaScript:function(){var t=new PDFJS.LegacyPromise,e=this.pdfInfo.javaScript;return t.resolve(e),t},getOutline:function(){var t=new PDFJS.LegacyPromise,e=this.pdfInfo.outline;return t.resolve(e),t},getMetadata:function(){var t=new PDFJS.LegacyPromise,e=this.pdfInfo.info,n=this.pdfInfo.metadata;return t.resolve({info:e,metadata:n?new PDFJS.Metadata(n):null}),t},getData:function(){var t=new PDFJS.LegacyPromise;return this.transport.getData(t),t},dataLoaded:function(){return this.transport.dataLoaded()},cleanup:function(){this.transport.startCleanup()},destroy:function(){this.transport.destroy()}},t}(),ct=function(){function t(t,e){this.pageInfo=t,this.transport=e,this.stats=new j,this.stats.enabled=!!P.PDFJS.enableStats,this.commonObjs=e.commonObjs,this.objs=new ht,this.receivingOperatorList=!1,this.cleanupAfterRender=!1,this.pendingDestroy=!1,this.renderTasks=[]}return t.prototype={get pageNumber(){return this.pageInfo.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(t,e){return arguments.length<2&&(e=this.rotate),new PDFJS.PageViewport(this.view,t,e,0,0)},getAnnotations:function(){if(this.annotationsPromise)return this.annotationsPromise;var t=new PDFJS.LegacyPromise;return this.annotationsPromise=t,this.transport.getAnnotations(this.pageInfo.pageIndex),t},render:function(t){function e(t){var e=a.renderTasks.indexOf(i);e>=0&&a.renderTasks.splice(e,1),a.cleanupAfterRender&&(a.pendingDestroy=!0),a._tryDestroy(),t?r.promise.reject(t):r.promise.resolve(),n.timeEnd("Rendering"),n.timeEnd("Overall")}var n=this.stats;n.time("Overall"),this.pendingDestroy=!1,this.displayReadyPromise||(this.receivingOperatorList=!0,this.displayReadyPromise=new _,this.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1}));var i=new dt(e,t,this.objs,this.commonObjs,this.operatorList,this.pageNumber);this.renderTasks.push(i);var r=new ut(i),a=this;return this.displayReadyPromise.then(function(t){if(a.pendingDestroy)return void e();n.time("Rendering"),i.initalizeGraphics(t),i.operatorListChanged()},function(t){e(t)}),r},getTextContent:function(){var t=new PDFJS.LegacyPromise;return this.transport.messageHandler.send("GetTextContent",{pageIndex:this.pageNumber-1},function(e){t.resolve(e)}),t},destroy:function(){this.pendingDestroy=!0,this._tryDestroy()},_tryDestroy:function(){this.pendingDestroy&&0===this.renderTasks.length&&!this.receivingOperatorList&&(delete this.operatorList,delete this.displayReadyPromise,this.objs.clear(),this.pendingDestroy=!1)},_startRenderPage:function(t){this.displayReadyPromise.resolve(t)},_renderPageChunk:function(t){for(var e=0,n=t.length;e<n;e++)this.operatorList.fnArray.push(t.fnArray[e]),this.operatorList.argsArray.push(t.argsArray[e]);this.operatorList.lastChunk=t.lastChunk;for(var e=0;e<this.renderTasks.length;e++)this.renderTasks[e].operatorListChanged();t.lastChunk&&(this.receivingOperatorList=!1,this._tryDestroy())}},t}(),lt=function(){function i(e,i,r,a){if(this.pdfDataRangeTransport=r,this.workerReadyPromise=i,this.progressCallback=a,this.commonObjs=new ht,this.pageCache=[],this.pagePromises=[],this.embeddedFontsUsed=!1,this.passwordCallback=null,!P.PDFJS.disableWorker&&"undefined"!=typeof Worker){var o=PDFJS.workerSrc;o||n("No PDFJS.workerSrc specified");try{var s=new Worker(o),c=new b("main",s);this.messageHandler=c,c.on("test",function(t){t&&t.supportTypedArray?(this.worker=s,t.supportTransfers||(PDFJS.postMessageTransfers=!1),this.setupMessageHandler(c),e.resolve()):(P.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker(),e.resolve()}.bind(this)))}.bind(this));var l=new Uint8Array([PDFJS.postMessageTransfers?255:0]);try{c.send("test",l,null,[l.buffer])}catch(e){t("Cannot use postMessage transfers"),l[0]=0,c.send("test",l)}return}catch(e){t("The worker has been disabled.")}}P.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker(),e.resolve()}.bind(this))}return i.prototype={destroy:function(){this.pageCache=[],this.pagePromises=[];var t=this;this.messageHandler.send("Terminate",null,function(){yt.clear(),t.worker&&t.worker.terminate()})},loadFakeWorkerFiles:function(){return PDFJS.fakeWorkerFilesLoadedPromise||(PDFJS.fakeWorkerFilesLoadedPromise=new _,O.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedPromise.resolve()})),PDFJS.fakeWorkerFilesLoadedPromise},setupFakeWorker:function(){e("Setting up fake worker.");var t={postMessage:function(e){t.onmessage({data:e})},terminate:function(){}},n=new b("main",t);this.setupMessageHandler(n),PDFJS.WorkerMessageHandler.setup(n)},setupMessageHandler:function(t){function i(e){t.send("UpdatePassword",e)}this.messageHandler=t;var r=this.pdfDataRangeTransport;r&&(r.addRangeListener(function(e,n){t.send("OnDataRange",{begin:e,chunk:n})}),r.addProgressListener(function(e){t.send("OnDataProgress",{loaded:e})}),t.on("RequestDataRange",function(t){r.requestDataRange(t.begin,t.end)},this)),t.on("GetDoc",function(t){var e=t.pdfInfo,n=new st(e,this);this.pdfDocument=n,this.workerReadyPromise.resolve(n)},this),t.on("NeedPassword",function(t){if(this.passwordCallback)return this.passwordCallback(i,T.NEED_PASSWORD);this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("IncorrectPassword",function(t){if(this.passwordCallback)return this.passwordCallback(i,T.INCORRECT_PASSWORD);this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("InvalidPDF",function(t){this.workerReadyPromise.reject(t.exception.name,t.exception)},this),t.on("MissingPDF",function(t){this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("UnknownError",function(t){this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("GetPage",function(t){var e=t.pageInfo,n=new ct(e,this);this.pageCache[e.pageIndex]=n,this.pagePromises[e.pageIndex].resolve(n)},this),t.on("GetAnnotations",function(t){var e=t.annotations;this.pageCache[t.pageIndex].annotationsPromise.resolve(e)},this),t.on("StartRenderPage",function(t){var e=this.pageCache[t.pageIndex];e.stats.timeEnd("Page Request"),e._startRenderPage(t.transparency)},this),t.on("RenderPageChunk",function(t){this.pageCache[t.pageIndex]._renderPageChunk(t.operatorList)},this),t.on("commonobj",function(t){var n=t[0],i=t[1];if(!this.commonObjs.hasData(n))switch(i){case"Font":var r,a=t[2];if("error"in a){var o=a.error;e("Error during font loading: "+o),this.commonObjs.resolve(n,o);break}r=new xt(a),yt.bind([r],function(){this.commonObjs.resolve(n,r)}.bind(this));break;case"FontPath":this.commonObjs.resolve(n,t[2]);break;default:o("Got unknown common object type "+i)}},this),t.on("obj",function(t){var e=t[0],i=t[1],r=t[2],a=this.pageCache[i];if(!a.objs.hasData(e))switch(r){case"JpegStream":var o=t[3];y(e,o,a.objs);break;case"Image":var o=t[3];a.objs.resolve(e,o);"data"in o&&o.data.length>8e6&&(a.cleanupAfterRender=!0);break;default:n("Got unknown object type "+r)}},this),t.on("DocProgress",function(t){this.progressCallback&&this.progressCallback({loaded:t.loaded,total:t.total})},this),t.on("DocError",function(t){this.workerReadyPromise.reject(t)},this),t.on("PageError",function(t){var e=this.pageCache[t.pageNum-1];e.displayReadyPromise?e.displayReadyPromise.reject(t.error):n(t.error)},this),t.on("JpegDecode",function(t,e){var i=t[0],r=t[1];3!=r&&1!=r&&n("Only 3 component or 1 component can be returned");var a=new Image;a.onload=function(){var t=a.width,n=a.height,i=t*n,o=4*i,s=new Uint8Array(i*r),c=x(t,n),l=c.getContext("2d");l.drawImage(a,0,0);var h=l.getImageData(0,0,t,n).data;if(3==r)for(var u=0,d=0;u<o;u+=4,d+=3)s[d]=h[u],s[d+1]=h[u+1],s[d+2]=h[u+2];else if(1==r)for(var u=0,d=0;u<o;u+=4,d++)s[d]=h[u];e.resolve({data:s,width:t,height:n})}.bind(this),a.src=i})},fetchDocument:function(t){t.disableAutoFetch=PDFJS.disableAutoFetch,t.chunkedViewerLoading=!!this.pdfDataRangeTransport,this.messageHandler.send("GetDocRequest",{source:t,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,disableFontFace:PDFJS.disableFontFace,disableCreateObjectURL:PDFJS.disableCreateObjectURL,verbosity:PDFJS.verbosity})},getData:function(t){this.messageHandler.send("GetData",null,function(e){t.resolve(e)})},dataLoaded:function(){if(this.dataLoadedPromise)return this.dataLoadedPromise;var t=new PDFJS.LegacyPromise;return this.messageHandler.send("DataLoaded",null,function(e){t.resolve(e)}),this.dataLoadedPromise=t,t},getPage:function(t,e){var n=t-1;if(n in this.pagePromises)return this.pagePromises[n];var e=new PDFJS.LegacyPromise;return this.pagePromises[n]=e,this.messageHandler.send("GetPageRequest",{pageIndex:n}),e},getPageIndex:function(t){var e=new PDFJS.LegacyPromise;return this.messageHandler.send("GetPageIndex",{ref:t},function(t){e.resolve(t)}),e},getAnnotations:function(t){this.messageHandler.send("GetAnnotationsRequest",{pageIndex:t})},getDestinations:function(){var t=new PDFJS.LegacyPromise;return this.messageHandler.send("GetDestinations",null,function(e){t.resolve(e)}),t},startCleanup:function(){this.messageHandler.send("Cleanup",null,function(){for(var t=0,e=this.pageCache.length;t<e;t++){var n=this.pageCache[t];n&&n.destroy()}this.commonObjs.clear(),yt.clear()}.bind(this))}},i}(),ht=function(){function t(){this.objs={}}return t.prototype={ensureObj:function(t){if(this.objs[t])return this.objs[t];var e={promise:new _,data:null,resolved:!1};return this.objs[t]=e,e},get:function(t,e){if(e)return this.ensureObj(t).promise.then(e),null;var i=this.objs[t];return i&&i.resolved||n("Requesting object that isn't resolved yet "+t),i.data},resolve:function(t,e){var n=this.ensureObj(t);n.resolved=!0,n.data=e,n.promise.resolve(e)},isResolved:function(t){var e=this.objs;return!!e[t]&&e[t].resolved},hasData:function(t){return this.isResolved(t)},getData:function(t){var e=this.objs;return e[t]&&e[t].resolved?e[t].data:null},clear:function(){this.objs={}}},t}(),ut=function(){function t(t){this.internalRenderTask=t,this.promise=new PDFJS.LegacyPromise}return t.prototype={cancel:function(){this.internalRenderTask.cancel(),this.promise.reject(new Error("Rendering is cancelled"))}},t}(),dt=function(){function t(t,e,n,i,r,a){this.callback=t,this.params=e,this.objs=n,this.commonObjs=i,this.operatorListIdx=null,this.operatorList=r,this.pageNumber=a,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.cancelled=!1}return t.prototype={initalizeGraphics:function(t){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in P&&P.StepperManager.enabled&&(this.stepper=P.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var e=this.params;this.gfx=new At(e.canvasContext,this.commonObjs,this.objs,e.textLayer,e.imageLayer),this.gfx.beginDrawing(e.viewport,t),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this.callback("cancelled")},operatorListChanged:function(){if(!this.graphicsReady)return void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continue.bind(this)));this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()},_continue:function(){this.running=!0,this.cancelled||(this.params.continueCallback?this.params.continueCallback(this._next.bind(this)):this._next())},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continue.bind(this),this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}},t}(),ft=(PDFJS.Metadata=function(){function t(t){return t.replace(/>\\376\\377([^<]+)/g,function(t,e){for(var n=e.replace(/\\([0-3])([0-7])([0-7])/g,function(t,e,n,i){return String.fromCharCode(64*e+8*n+1*i)}),i="",r=0;r<n.length;r+=2){var a=256*n.charCodeAt(r)+n.charCodeAt(r+1);i+="&#x"+(65536+a).toString(16).substring(1)+";"}return">"+i})}function e(e){if("string"==typeof e){e=t(e);e=(new DOMParser).parseFromString(e,"application/xml")}else e instanceof Document||n("Metadata: Invalid metadata object");this.metaDocument=e,this.metadata={},this.parse()}return e.prototype={parse:function(){var t=this.metaDocument,e=t.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;var n=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===n&&e.hasChildNodes()){var i,r,a,o,s,c,l,h=e.childNodes;for(o=0,c=h.length;o<c;o++)if(i=h[o],"rdf:description"===i.nodeName.toLowerCase())for(s=0,l=i.childNodes.length;s<l;s++)"#text"!==i.childNodes[s].nodeName.toLowerCase()&&(r=i.childNodes[s],a=r.nodeName.toLowerCase(),this.metadata[a]=r.textContent.trim())}},get:function(t){return this.metadata[t]||null},has:function(t){return"undefined"!=typeof this.metadata[t]}},e}(),16),pt=!0,gt=function(){var t={};return{getCanvas:function(e,n,i,r){var a;if(e in t)a=t[e],a.canvas.width=n,a.canvas.height=i,a.context.setTransform(1,0,0,1,0,0);else{var o=x(n,i),s=o.getContext("2d");r&&S(s),t[e]=a={canvas:o,context:s}}return a},clear:function(){t={}}}}(),mt=function(){function t(t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=M,this.fontMatrix=F,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=D.FILL,this.textRise=0,this.fillColorSpace=N.singletons.gray,this.fillColorSpaceObj=null,this.strokeColorSpace=N.singletons.gray,this.strokeColorSpaceObj=null,this.fillColorObj=null,this.strokeColorObj=null,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.old=t}return t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,e){this.x=t,this.y=e}},t}(),At=function(){function i(t,e,n,i,r){this.ctx=t,this.current=new mt,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.textLayer=i,this.imageLayer=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,t&&S(t)}function a(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);for(var n=16,i=e.height/n|0,r=e.height-i*n,a=e.width*n*4,o=e.width*r*4,s=t.createImageData(e.width,n),c=0,l=e.data,h=s.data,u=("set"in h&&"subarray"in l),d=0;d<i;d++){if(u)h.set(l.subarray(c,c+a)),c+=a;else for(var f=0;f<a;f++)s.data[f]=e.data[c++];t.putImageData(s,0,d*n)}if(0!==r){if(u)h.set(l.subarray(c,c+o)),c+=o;else for(var f=0;f<o;f++)s.data[f]=e.data[c++];t.putImageData(s,0,i*n)}}function o(t,e){for(var n=e.width,i=e.height,r=t.createImageData(n,i),a=e.data,o=r.data,s=0,c=3,l=0;l<i;l++)for(var h=0,u=0;u<n;u++){if(!h){var d=a[s++];h=128}d&h||(o[c]=255),c+=4,h>>=1}t.putImageData(r,0,0)}function c(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,r=n.length;i<r;i++){var a=n[i];a in t&&(e[a]=t[a])}"setLineDash"in t?(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset):"mozDash"in t&&(e.mozDash=t.mozDash,e.mozDashOffset=t.mozDashOffset)}function l(t,e,n){var i,r=e.canvas,a=e.context,o=r.width,s=r.height;if(e.backdrop){var c=e.colorSpace||N.singletons.rgb,l=c.getRgb(e.backdrop,0);i=function(t,e,n,i){for(var r=i.length,a=3;a<r;a+=4){var o=i[a]/255;if(0===o)i[a-3]=t,i[a-2]=e,i[a-1]=n;else if(o<1){var s=1-o;i[a-3]=i[a-3]*o+t*s|0,i[a-2]=i[a-2]*o+e*s|0,i[a-1]=i[a-1]*o+n*s|0}}}.bind(null,l[0],l[1],l[2])}else i=function(){};var h;h="Luminosity"===e.subtype?function(t,e){for(var n=t.length,i=3;i<n;i+=4){var r=77*t[i-3]+152*t[i-2]+28*t[i-1]|0;e[i]=e[i]*r>>16}}:function(t,e){for(var n=t.length,i=3;i<n;i+=4){var r=t[i];e[i]=e[i]*r/255|0}};for(var u=16,d=0;d<s;d+=u){var f=Math.min(u,s-d),p=a.getImageData(0,d,o,f),g=n.getImageData(0,d,o,f);i(p.data),h(p.data,g.data),a.putImageData(g,0,d)}t.setTransform(1,0,0,1,0,0),t.drawImage(r,e.offsetX,e.offsetY)}var h=15,u=["butt","round","square"],f=["miter","round","bevel"],p={},g={};i.prototype={beginDrawing:function(t,e){var n=this.ctx.canvas.width,i=this.ctx.canvas.height;e?this.ctx.clearRect(0,0,n,i):(this.ctx.mozOpaque=!0,this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(0,0,n,i),this.ctx.restore());var r=t.transform;this.baseTransform=r.slice(),this.ctx.save(),this.ctx.transform.apply(this.ctx,r),this.textLayer&&this.textLayer.beginLayout(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(t,e,n,i){var r=t.argsArray,a=t.fnArray,o=e||0,s=r.length;if(s==o)return o;for(var c,l=Date.now()+h,u=this.commonObjs,d=this.objs,f=Promise.resolve();;){if(i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if((c=a[o])!==I.dependency)this[c].apply(this,r[o]);else for(var p=r[o],g=0,m=p.length;g<m;g++){var A=p[g],v="g_"==A.substring(0,2);if(!v&&!d.isResolved(A))return d.get(A,n),o;if(v&&!u.isResolved(A))return u.get(A,n),o}if(++o==s)return o;if(n&&Date.now()>l)return f.then(n),o}},endDrawing:function(){this.ctx.restore(),gt.clear(),this.textLayer&&this.textLayer.endLayout(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t},setLineCap:function(t){this.ctx.lineCap=u[t]},setLineJoin:function(t){this.ctx.lineJoin=f[t]},setMiterLimit:function(t){this.ctx.miterLimit=t},setDash:function(t,e){var n=this.ctx;"setLineDash"in n?(n.setLineDash(t),n.lineDashOffset=e):(n.mozDash=t,n.mozDashOffset=e)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(t){for(var n=0,i=t.length;n<i;n++){var r=t[n],a=r[0],o=r[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":if(o&&o.name&&"Normal"!==o.name){var s=o.name.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}).substring(1);this.ctx.globalCompositeOperation=s,this.ctx.globalCompositeOperation!==s&&e('globalCompositeOperation "'+s+'" is not supported')}else this.ctx.globalCompositeOperation="source-over";break;case"SMask":this.current.activeSMask&&this.endSMaskGroup(),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var t=this.current.activeSMask,e=t.canvas.width,n=t.canvas.height,i="smaskGroupAt"+this.groupLevel,r=gt.getCanvas(i,e,n,!0),a=this.ctx,o=a.mozCurrentTransform;this.ctx.save();var s=r.context;s.translate(-t.offsetX,-t.offsetY),s.transform.apply(s,o),c(a,s),this.ctx=s,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++},endSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),l(this.ctx,this.current.activeSMask,t),this.ctx.restore()},save:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.activeSMask&&(this.current.activeSMask=null)},restore:function(){var t=this.stateStack.pop();t&&(this.current.activeSMask&&this.endSMaskGroup(),this.current=t,this.ctx.restore())},transform:function(t,e,n,i,r,a){this.ctx.transform(t,e,n,i,r,a)},moveTo:function(t,e){this.ctx.moveTo(t,e),this.current.setCurrentPoint(t,e)},lineTo:function(t,e){this.ctx.lineTo(t,e),this.current.setCurrentPoint(t,e)},curveTo:function(t,e,n,i,r,a){this.ctx.bezierCurveTo(t,e,n,i,r,a),this.current.setCurrentPoint(r,a)},curveTo2:function(t,e,n,i){var r=this.current;this.ctx.bezierCurveTo(r.x,r.y,t,e,n,i),r.setCurrentPoint(n,i)},curveTo3:function(t,e,n,i){this.curveTo(t,e,n,i,n,i),this.current.setCurrentPoint(n,i)},closePath:function(){this.ctx.closePath()},rectangle:function(t,e,n,i){this.ctx.rect(t,e,n,i)},stroke:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.strokeColor;0===this.current.lineWidth&&(e.lineWidth=this.getSinglePixelWidth()),e.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type?(e.save(),e.strokeStyle=n.getPattern(e,this),e.stroke(),e.restore()):e.stroke(),t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.fillColor,i=!1;if(n&&n.hasOwnProperty("type")&&"Pattern"===n.type&&(e.save(),e.fillStyle=n.getPattern(e,this),i=!0),this.pendingEOFill){if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.fill(),this.ctx.mozFillRule="nonzero";else try{this.ctx.fill("evenodd")}catch(t){this.ctx.fill()}this.pendingEOFill=!1}else this.ctx.fill();i&&e.restore(),t&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=p},eoClip:function(){this.pendingClip=g},beginText:function(){this.current.textMatrix=M,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){if(!("pendingTextPaths"in this))return void this.ctx.beginPath();var t=this.pendingTextPaths,e=this.ctx;e.save(),e.beginPath();for(var n=0;n<t.length;n++){var i=t[n];e.setTransform.apply(e,i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(t){this.current.charSpacing=t},setWordSpacing:function(t){this.current.wordSpacing=t},setHScale:function(t){this.current.textHScale=t/100},setLeading:function(t){this.current.leading=-t},setFont:function(t,i){var r=this.commonObjs.get(t),a=this.current;if(r||n("Can't find font for "+t),a.fontMatrix=r.fontMatrix?r.fontMatrix:F,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||e("Invalid font matrix for font "+t),i<0?(i=-i,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=i,!r.coded){var o=r.loadedName||"sans-serif",s=r.black?r.bold?"bolder":"bold":r.bold?"bold":"normal",c=r.italic?"italic":"normal",l='"'+o+'", '+r.fallbackName,h=i>=ft?i:ft;this.current.fontSizeScale=h!=ft?1:i/ft;var u=c+" "+s+" "+h+"px "+l;this.ctx.font=u}},setTextRenderingMode:function(t){this.current.textRenderingMode=t},setTextRise:function(t){this.current.textRise=t},moveText:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e},setLeadingMoveText:function(t,e){this.setLeading(-e),this.moveText(t,e)},setTextMatrix:function(t,e,n,i,r,a){this.current.textMatrix=[t,e,n,i,r,a],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},applyTextTransforms:function(){var t=this.ctx,e=this.current;t.transform.apply(t,e.textMatrix),t.translate(e.x,e.y+e.textRise),e.fontDirection>0?t.scale(e.textHScale,-1):t.scale(-e.textHScale,1)},createTextGeometry:function(){var t={},e=this.ctx,n=this.current.font,i=e.mozCurrentTransform,r=i[0],a=i[1],o=i[2],s=i[3],c=i[4],l=i[5],h=r>=0?Math.sqrt(r*r+a*a):-Math.sqrt(r*r+a*a),u=s>=0?Math.sqrt(o*o+s*s):-Math.sqrt(o*o+s*s),d=Math.atan2(a,r),f=c,p=l;return t.x=f,t.y=p,t.hScale=h,t.vScale=u,t.angle=d,t.spaceWidth=n.spaceWidth,t.fontName=n.loadedName,t.fontFamily=n.fallbackName,t.fontSize=this.current.fontSize,t.ascent=n.ascent,t.descent=n.descent,t},paintChar:function(t,e,n){var i,r=this.ctx,a=this.current,o=a.font,s=a.fontSize/a.fontSizeScale,c=a.textRenderingMode,l=c&D.FILL_STROKE_MASK,h=!!(c&D.ADD_TO_PATH_FLAG);if((o.disableFontFace||h)&&(i=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace?(r.save(),r.translate(e,n),r.beginPath(),i(r,s),l!==D.FILL&&l!==D.FILL_STROKE||r.fill(),l!==D.STROKE&&l!==D.FILL_STROKE||r.stroke(),r.restore()):(l!==D.FILL&&l!==D.FILL_STROKE||r.fillText(t,e,n),l!==D.STROKE&&l!==D.FILL_STROKE||r.strokeText(t,e,n)),h){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:r.mozCurrentTransform,x:e,y:n,fontSize:s,addToPath:i})}},get isFontSubpixelAAEnabled(){var t=document.createElement("canvas").getContext("2d");t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,n=!1,i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return s(this,"isFontSubpixelAAEnabled",n)},showText:function(t,e){var n,i=this.ctx,r=this.current,a=r.font,o=r.fontSize,s=r.fontSizeScale,c=r.charSpacing,l=r.wordSpacing,h=r.textHScale*r.fontDirection,u=r.fontMatrix||F,d=t.length,f=this.textLayer,p=!(!f||e),g=0,m=a.vertical,A=a.defaultVMetrics;if(a.coded){i.save(),i.transform.apply(i,r.textMatrix),i.translate(r.x,r.y),i.scale(h,1),p&&(this.save(),i.scale(1,-1),n=this.createTextGeometry(),this.restore());for(var v=0;v<d;++v){var b=t[v];if(null!==b){this.processingType3=b,this.save(),i.scale(o,o),i.transform.apply(i,u),this.executeOperatorList(b.operatorList),this.restore();var y=O.applyTransform([b.width,0],u),x=(y[0]*o+c)*r.fontDirection;i.translate(x,0),r.x+=x*h,g+=x}else this.ctx.translate(l,0),r.x+=l*h}i.restore(),this.processingType3=null}else{i.save(),this.applyTextTransforms();var S=r.lineWidth,C=r.textMatrix[0],w=r.textMatrix[1],P=Math.sqrt(C*C+w*w);0===P||0===S?S=this.getSinglePixelWidth():S/=P,p&&(n=this.createTextGeometry()),1!=s&&(i.scale(s,s),S/=s),i.lineWidth=S;for(var k=0,v=0;v<d;++v){var b=t[v];if(null!==b){var D=!1,I=b.fontChar,R=b.vmetric||A;if(m){var L=b.vmetric?R[1]:.5*b.width;L=-L*o*r.fontMatrix[0];var T=R[2]*o*r.fontMatrix[0]}var E,M,B,_,x=R?-R[0]:b.width,j=x*o*r.fontMatrix[0]+c*r.fontDirection,N=b.accent;if(!b.disabled){if(m?(E=L/s,M=(k+T)/s):(E=k/s,M=0),a.remeasure&&x>0&&this.isFontSubpixelAAEnabled){var J=1e3*i.measureText(I).width/r.fontSize*r.fontSizeScale,z=x/J;D=!0,i.save(),i.scale(z,1),E/=z,N&&(B/=z)}this.paintChar(I,E,M),N&&(B=E+N.offset.x/s,_=M-N.offset.y/s,this.paintChar(N.fontChar,B,_))}k+=j,g+=j,D&&i.restore()}else k+=r.fontDirection*l}m?r.y-=k*h:r.x+=k*h,i.restore()}if(p){if(n.canvasWidth=g,m){var W=Math.PI/2;n.angle+=W}this.textLayer.appendText(n)}return g},showSpacedText:function(t){var e,n=this.ctx,i=this.current,r=i.font,a=i.fontSize,o=.001*i.textHScale*i.fontDirection,s=t.length,c=this.textLayer,l=0,h=!!c,u=r.vertical,f=0;h&&(n.save(),this.applyTextTransforms(),e=this.createTextGeometry(),n.restore());for(var p=0;p<s;++p){var g=t[p];if(d(g)){var m=-g*a*o;u?i.y+=m:i.x+=m,h&&(f+=m)}else{var A=this.showText(g,!0);h&&(l+=f+A,f=0)}}if(h){if(e.canvasWidth=l,u){var v=Math.PI/2;e.angle+=v}this.textLayer.appendText(e)}},nextLineShowText:function(t){this.nextLine(),this.showText(t)},nextLineSetSpacingShowText:function(t,e,n){this.setWordSpacing(t),this.setCharSpacing(e),this.nextLineShowText(n)},setCharWidth:function(){},setCharWidthAndBounds:function(t,e,n,i,r,a){this.rectangle(n,i,r-n,a-i),this.clip(),this.endPath()},setStrokeColorSpace:function(t){this.current.strokeColorSpace=N.fromIR(t)},setFillColorSpace:function(t){this.current.fillColorSpace=N.fromIR(t)},setStrokeColor:function(){var t=this.current.strokeColorSpace,e=t.getRgb(arguments,0),n=O.makeCssRgb(e);this.ctx.strokeStyle=n,this.current.strokeColor=n},getColorN_Pattern:function(t,e){if("TilingPattern"==t[0]){var i,r=t[1],a=e.base;if(a){a.numComps;i=a.getRgb(r,0)}var o=new bt(t,i,this.ctx,this.objs,this.commonObjs,this.baseTransform)}else if("RadialAxial"==t[0]||"Dummy"==t[0])var o=w(t);else n("Unkown IR type "+t[0]);return o},setStrokeColorN:function(){var t=this.current.strokeColorSpace;"Pattern"==t.name?this.current.strokeColor=this.getColorN_Pattern(arguments,t):this.setStrokeColor.apply(this,arguments)},setFillColor:function(){var t=this.current.fillColorSpace,e=t.getRgb(arguments,0),n=O.makeCssRgb(e);this.ctx.fillStyle=n,this.current.fillColor=n},setFillColorN:function(){var t=this.current.fillColorSpace;"Pattern"==t.name?this.current.fillColor=this.getColorN_Pattern(arguments,t):this.setFillColor.apply(this,arguments)},setStrokeGray:function(){this.current.strokeColorSpace=N.singletons.gray
;var t=this.current.strokeColorSpace.getRgb(arguments,0),e=O.makeCssRgb(t);this.ctx.strokeStyle=e,this.current.strokeColor=e},setFillGray:function(){this.current.fillColorSpace=N.singletons.gray;var t=this.current.fillColorSpace.getRgb(arguments,0),e=O.makeCssRgb(t);this.ctx.fillStyle=e,this.current.fillColor=e},setStrokeRGBColor:function(){this.current.strokeColorSpace=N.singletons.rgb;var t=this.current.strokeColorSpace.getRgb(arguments,0),e=O.makeCssRgb(t);this.ctx.strokeStyle=e,this.current.strokeColor=e},setFillRGBColor:function(){this.current.fillColorSpace=N.singletons.rgb;var t=this.current.fillColorSpace.getRgb(arguments,0),e=O.makeCssRgb(t);this.ctx.fillStyle=e,this.current.fillColor=e},setStrokeCMYKColor:function(){this.current.strokeColorSpace=N.singletons.cmyk;var t=O.makeCssCmyk(arguments);this.ctx.strokeStyle=t,this.current.strokeColor=t},setFillCMYKColor:function(){this.current.fillColorSpace=N.singletons.cmyk;var t=O.makeCssCmyk(arguments);this.ctx.fillStyle=t,this.current.fillColor=t},shadingFill:function(t){var e=this.ctx;this.save();var n=w(t);e.fillStyle=n.getPattern(e,this);var i=e.mozCurrentTransformInverse;if(i){var r=e.canvas,a=r.width,o=r.height,s=O.applyTransform([0,0],i),c=O.applyTransform([0,o],i),l=O.applyTransform([a,0],i),h=O.applyTransform([a,o],i),u=Math.min(s[0],c[0],l[0],h[0]),d=Math.min(s[1],c[1],l[1],h[1]),f=Math.max(s[0],c[0],l[0],h[0]),p=Math.max(s[1],c[1],l[1],h[1]);this.ctx.fillRect(u,d,f-u,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){n("Should not call beginInlineImage")},beginImageData:function(){n("Should not call beginImageData")},paintFormXObjectBegin:function(t,e){if(this.save(),this.baseTransformStack.push(this.baseTransform),t&&m(t)&&6==t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e&&m(e)&&4==e.length){var n=e[2]-e[0],i=e[3]-e[1];this.rectangle(e[0],e[1],n,i),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(n){this.save();var i=this.ctx;n.isolated||t("TODO: Support non-isolated groups."),n.knockout&&e("Knockout groups not supported.");var a=i.mozCurrentTransform;n.matrix&&i.transform.apply(i,n.matrix),r(n.bbox,"Bounding box is required.");var o=O.getAxialAlignedBoundingBox(n.bbox,i.mozCurrentTransform),s=[0,0,i.canvas.width,i.canvas.height];o=O.intersect(o,s)||[0,0,0,0];var l=Math.max(Math.ceil(o[2]-o[0]),1),h=Math.max(Math.ceil(o[3]-o[1]),1),u="groupAt"+this.groupLevel;n.smask&&(u+="_smask_"+this.smaskCounter++%2);var d=gt.getCanvas(u,l,h,!0),f=d.context,p=o[0],g=o[1];f.translate(-p,-g),f.transform.apply(f,a),n.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:p,offsetY:g,subtype:n.smask.subtype,backdrop:n.smask.backdrop,colorSpace:n.colorSpace&&N.fromIR(n.colorSpace)}):(i.setTransform(1,0,0,1,0,0),i.translate(p,g)),c(i,f),this.ctx=f,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++},endGroup:function(t){this.groupLevel--;var e=this.ctx;this.ctx=this.groupStack.pop(),"imageSmoothingEnabled"in this.ctx?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(e.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.current=new mt},endAnnotations:function(){this.restore()},beginAnnotation:function(t,e,n){if(this.save(),t&&m(t)&&4==t.length){var i=t[2]-t[0],r=t[3]-t[1];this.rectangle(t[0],t[1],i,r),this.clip(),this.endPath()}this.transform.apply(this,e),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(t,e,i){var r=this.objs.get(t);r||n("Dependent image isn't ready yet"),this.save();var a=this.ctx;if(a.scale(1/e,-1/i),a.drawImage(r,0,0,r.width,r.height,0,-i,e,i),this.imageLayer){var o=a.mozCurrentTransformInverse,s=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:s[0],top:s[1],width:e/o[0],height:i/o[3]})}this.restore()},paintImageMaskXObject:function(t){var e=this.ctx,n=t.width,i=t.height,r=this.processingType3;if(pt&&r&&!("compiled"in r)){var a=1e3;r.compiled=n<=a&&i<=a?C({data:t.data,width:n,height:i}):null}if(r&&r.compiled)return void r.compiled(e);var s=gt.getCanvas("maskCanvas",n,i),c=s.context;c.save(),o(c,t),c.globalCompositeOperation="source-in";var l=this.current.fillColor;c.fillStyle=l&&l.hasOwnProperty("type")&&"Pattern"===l.type?l.getPattern(c,this):l,c.fillRect(0,0,n,i),c.restore(),this.paintInlineImageXObject(s.canvas)},paintImageMaskXObjectGroup:function(t){for(var e=this.ctx,n=0,i=t.length;n<i;n++){var r=t[n],a=r.width,s=r.height,c=gt.getCanvas("maskCanvas",a,s),l=c.context;l.save(),o(l,r),l.globalCompositeOperation="source-in";var h=this.current.fillColor;l.fillStyle=h&&h.hasOwnProperty("type")&&"Pattern"===h.type?h.getPattern(l,this):h,l.fillRect(0,0,a,s),l.restore(),e.save(),e.transform.apply(e,r.transform),e.scale(1,-1),e.drawImage(c.canvas,0,0,a,s,0,-1,1,1),e.restore()}},paintImageXObject:function(t){var e=this.objs.get(t);e||n("Dependent image isn't ready yet"),this.paintInlineImageXObject(e)},paintInlineImageXObject:function(t){var e=t.width,n=t.height,i=this.ctx;this.save(),i.scale(1/e,-1/n);var r,o=i.mozCurrentTransformInverse,s=o[0],c=o[1],l=Math.max(Math.sqrt(s*s+c*c),1),h=o[2],u=o[3],d=Math.max(Math.sqrt(h*h+u*u),1);if(t instanceof HTMLElement||!t.data)r=t;else{var f=gt.getCanvas("inlineImage",e,n),p=f.context;a(p,t),r=f.canvas}for(var g=e,m=n,A="prescale1";l>2&&g>1||d>2&&m>1;){var v=g,b=m;l>2&&g>1&&(v=Math.ceil(g/2),l/=g/v),d>2&&m>1&&(b=Math.ceil(m/2),d/=m/b);var f=gt.getCanvas(A,v,b);p=f.context,p.clearRect(0,0,v,b),p.drawImage(r,0,0,g,m,0,0,v,b),r=f.canvas,g=v,m=b,A="prescale1"===A?"prescale2":"prescale1"}if(i.drawImage(r,0,0,g,m,0,-n,e,n),this.imageLayer){var y=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:y[0],top:y[1],width:e/o[0],height:n/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(t,e){var n=this.ctx,i=t.width,r=t.height,o=gt.getCanvas("inlineImage",i,r);a(o.context,t);for(var s=0,c=e.length;s<c;s++){var l=e[s];if(n.save(),n.transform.apply(n,l.transform),n.scale(1,-1),n.drawImage(o.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var h=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:t,left:h[0],top:h[1],width:i,height:r})}n.restore()}},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){if(this.pendingClip){if(this.pendingClip==g)if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.clip(),this.ctx.mozFillRule="nonzero";else try{this.ctx.clip("evenodd")}catch(t){this.ctx.clip()}else this.ctx.clip();this.pendingClip=null}this.ctx.beginPath()},getSinglePixelWidth:function(){var t=this.ctx.mozCurrentTransformInverse;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))},getCanvasPosition:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]}};for(var A in I)i.prototype[I[A]]=i.prototype[A];return i}(),vt={};vt.RadialAxial={fromIR:function(t){var e=t[1],n=t[2],i=t[3],r=t[4],a=t[5],o=t[6];return{type:"Pattern",getPattern:function(t){var s;"axial"===e?s=t.createLinearGradient(i[0],i[1],r[0],r[1]):"radial"===e&&(s=t.createRadialGradient(i[0],i[1],a,r[0],r[1],o));for(var c=0,l=n.length;c<l;++c){var h=n[c];s.addColorStop(h[0],h[1])}return s}}}},vt.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var bt=function(){function e(t,e,n,i,r,a){this.name=t[1][0].name,this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.objs=i,this.commonObjs=r,this.baseTransform=a,this.type="Pattern",this.ctx=n}var i={COLORED:1,UNCOLORED:2},r=3e3;return e.prototype={createPatternCanvas:function(e){var n=this.operatorList,i=this.bbox,a=this.xstep,o=this.ystep,s=this.paintType,c=this.tilingType,l=this.color,h=this.objs,u=this.commonObjs;this.ctx;t("TilingType: "+c);var d=i[0],f=i[1],p=i[2],g=i[3],m=[d,f],A=[d+a,f+o],v=A[0]-m[0],b=A[1]-m[1],y=O.singularValueDecompose2dScale(this.matrix),x=O.singularValueDecompose2dScale(this.baseTransform),S=[y[0]*x[0],y[1]*x[1]];v=Math.min(Math.ceil(Math.abs(v*S[0])),r),b=Math.min(Math.ceil(Math.abs(b*S[1])),r);var C=gt.getCanvas("pattern",v,b,!0),w=C.context,P=new At(w,u,h);P.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(w,s,l),this.setScale(v,b,a,o),this.transformToScale(P);var k=[1,0,0,1,-m[0],-m[1]];return P.transform.apply(P,k),this.clipBbox(P,i,d,f,p,g),P.executeOperatorList(n),C.canvas},setScale:function(t,e,n,i){this.scale=[t/n,e/i]},transformToScale:function(t){var e=this.scale,n=[e[0],0,0,e[1],0,0];t.transform.apply(t,n)},scaleToContext:function(){var t=this.scale;this.ctx.scale(1/t[0],1/t[1])},clipBbox:function(t,e,n,i,r,a){if(e&&m(e)&&4==e.length){var o=r-n,s=a-i;t.rectangle(n,i,o,s),t.clip(),t.endPath()}},setFillAndStrokeStyleToContext:function(t,e,r){switch(e){case i.COLORED:var a=this.ctx;t.fillStyle=a.fillStyle,t.strokeStyle=a.strokeStyle;break;case i.UNCOLORED:var o=N.singletons.rgb.getRgb(r,0),s=O.makeCssRgb(o);t.fillStyle=s,t.strokeStyle=s;break;default:n("Unsupported paint type: "+e)}},getPattern:function(t,e){var n=this.createPatternCanvas(e),t=this.ctx;return t.setTransform.apply(t,this.baseTransform),t.transform.apply(t,this.matrix),this.scaleToContext(),t.createPattern(n,"repeat")}},e}();PDFJS.disableFontFace=!1;var yt={insertRule:function(t){var e=document.getElementById("PDFJS_FONT_STYLE_TAG");e||(e=document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(e));var n=e.sheet;n.insertRule(t,n.cssRules.length)},clear:function(){var t=document.getElementById("PDFJS_FONT_STYLE_TAG");t&&t.parentNode.removeChild(t)},get loadTestFont(){return s(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){if(k)return!1;var t=window.navigator.userAgent,e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(t);return!!(e&&e[1]>=14)}(),bind:function(t,e){r(!k,"bind() shall be called from main thread");for(var n=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];if(!s.attached&&!1!==s.loading){s.attached=!0;var c=s.bindDOM();c&&(n.push(c),i.push(s))}}var l=yt.queueLoadingCallback(e);n.length>0&&!this.isSyncFontLoadingSupported?yt.prepareFontLoadEvent(n,i,l):l.complete()},queueLoadingCallback:function(t){function e(){for(r(!a.end,"completeRequest() cannot be called twice"),a.end=Date.now();n.requests.length>0&&n.requests[0].end;){var t=n.requests.shift();setTimeout(t.callback,0)}}var n=yt.loadingContext,i="pdfjs-font-loading-"+n.nextRequestId++,a={id:i,complete:e,callback:t,started:Date.now()};return n.requests.push(a),a},prepareFontLoadEvent:function(t,n,i){function r(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function a(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)}function o(t,e,n,i){return p.substr(0,e)+i+p.substr(e+n)}function s(t,n){return++d>30?(e("Load test font never loaded."),void n()):(u.font="30px "+t,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?void n():void setTimeout(s.bind(null,t,n)))}var c,l,h=document.createElement("canvas");h.width=1,h.height=1;var u=h.getContext("2d"),d=0,f="lt"+Date.now()+this.loadTestFontId++,p=this.loadTestFont;p=o(p,976,f.length,f);var g=16,m=1482184792,A=r(p,g);for(c=0,l=f.length-3;c<l;c+=4)A=A-m+r(f,c)|0;c<f.length&&(A=A-m+r(f+"XXX",c)|0),p=o(p,g,4,a(A));var v="url(data:font/opentype;base64,"+btoa(p)+");",b='@font-face { font-family:"'+f+'";src:'+v+"}";yt.insertRule(b);var y=[];for(c=0,l=n.length;c<l;c++)y.push(n[c].loadedName);y.push(f);var x=document.createElement("div");for(x.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),c=0,l=y.length;c<l;++c){var S=document.createElement("span");S.textContent="Hi",S.style.fontFamily=y[c],x.appendChild(S)}document.body.appendChild(x),s(f,function(){document.body.removeChild(x),i.complete()})}},xt=function(){function t(){if(this.compiledGlyphs={},1!==arguments.length);else{var t=arguments[0];for(var e in t)this[e]=t[e]}}return t.prototype={bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var t=c(this.data),e=this.loadedName,n="url(data:"+this.mimetype+";base64,"+window.btoa(t)+");",i='@font-face { font-family:"'+e+'";src:'+n+"}";return yt.insertRule(i),PDFJS.pdfBug&&"FontInspector"in P&&P.FontInspector.enabled&&P.FontInspector.fontAdded(this,n),i},getPathGenerator:function(t,e){if(!(e in this.compiledGlyphs)){var n=t.get(this.loadedName+"_path_"+e);this.compiledGlyphs[e]=new Function("c","size",n)}return this.compiledGlyphs[e]}},t}()}.call("undefined"==typeof window?this:window),PDFJS.workerSrc||"undefined"==typeof document||(PDFJS.workerSrc=function(){"use strict";var t=document.body||document.getElementsByTagName("head")[0],e=t.lastChild.src;return e&&e.replace(/\.js$/i,".worker.js")}());var PDFFindBar={opened:!1,bar:null,toggleButton:null,findField:null,highlightAll:null,caseSensitive:null,findMsg:null,findStatusIcon:null,findPreviousButton:null,findNextButton:null,initialize:function(t){if(void 0===PDFFindController||null===PDFFindController)throw"PDFFindBar cannot be initialized without a PDFFindController instance.";this.bar=t.bar,this.toggleButton=t.toggleButton,this.findField=t.findField,this.highlightAll=t.highlightAllCheckbox,this.caseSensitive=t.caseSensitiveCheckbox,this.findMsg=t.findMsg,this.findStatusIcon=t.findStatusIcon,this.findPreviousButton=t.findPreviousButton,this.findNextButton=t.findNextButton;var e=this;this.toggleButton.addEventListener("click",function(){e.toggle()}),this.findField.addEventListener("input",function(){e.dispatchEvent("")}),this.bar.addEventListener("keydown",function(t){switch(t.keyCode){case 13:t.target===e.findField&&e.dispatchEvent("again",t.shiftKey);break;case 27:e.close()}}),this.findPreviousButton.addEventListener("click",function(){e.dispatchEvent("again",!0)}),this.findNextButton.addEventListener("click",function(){e.dispatchEvent("again",!1)}),this.highlightAll.addEventListener("click",function(){e.dispatchEvent("highlightallchange")}),this.caseSensitive.addEventListener("click",function(){e.dispatchEvent("casesensitivitychange")})},dispatchEvent:function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent("find"+t,!0,!0,{query:this.findField.value,caseSensitive:this.caseSensitive.checked,highlightAll:this.highlightAll.checked,findPrevious:e}),window.dispatchEvent(n)},updateUIState:function(t,e){var n=!1,i="",r="";switch(t){case FindStates.FIND_FOUND:break;case FindStates.FIND_PENDING:r="pending";break;case FindStates.FIND_NOTFOUND:i=mozL10n.get("find_not_found",null,"Phrase not found"),n=!0;break;case FindStates.FIND_WRAPPED:i=e?mozL10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):mozL10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}n?this.findField.classList.add("notFound"):this.findField.classList.remove("notFound"),this.findField.setAttribute("data-status",r),this.findMsg.textContent=i},open:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.bar.classList.remove("hidden")),this.findField.select(),this.findField.focus()},close:function(){this.opened&&(this.opened=!1,this.toggleButton.classList.remove("toggled"),this.bar.classList.add("hidden"),PDFFindController.active=!1)},toggle:function(){this.opened?this.close():this.open()}},PDFFindController={startedTextExtraction:!1,extractTextPromises:[],pendingFindMatches:{},active:!1,pageContents:[],pageMatches:[],selected:{pageIdx:-1,matchIdx:-1},offset:{pageIdx:null,matchIdx:null},resumePageIdx:null,state:null,dirtyMatch:!1,findTimeout:null,pdfPageSource:null,integratedFind:!1,initialize:function(t){if(void 0===PDFFindBar||null===PDFFindBar)throw"PDFFindController cannot be initialized without a PDFFindController instance";this.pdfPageSource=t.pdfPageSource,this.integratedFind=t.integratedFind;var e=["find","findagain","findhighlightallchange","findcasesensitivitychange"];this.firstPagePromise=new Promise(function(t){this.resolveFirstPage=t}.bind(this)),this.handleEvent=this.handleEvent.bind(this);for(var n=0;n<e.length;n++)window.addEventListener(e[n],this.handleEvent)},reset:function(){this.startedTextExtraction=!1,this.extractTextPromises=[],this.active=!1},calcFindMatch:function(t){var e=this.pageContents[t],n=this.state.query,i=this.state.caseSensitive,r=n.length;if(0!==r){i||(e=e.toLowerCase(),n=n.toLowerCase());for(var a=[],o=-r;;){if(-1===(o=e.indexOf(n,o+r)))break;a.push(o)}this.pageMatches[t]=a,this.updatePage(t),this.resumePageIdx===t&&(this.resumePageIdx=null,this.nextPageMatch())}},extractText:function(){function t(n){r.pdfPageSource.pages[n].getTextContent().then(function(i){for(var a="",o=0;o<i.length;o++)a+=i[o].str;r.pageContents.push(a),e[n](n),n+1<r.pdfPageSource.pages.length&&t(n+1)})}if(!this.startedTextExtraction){this.startedTextExtraction=!0,this.pageContents=[];for(var e=[],n=0,i=this.pdfPageSource.pdfDocument.numPages;n<i;n++)this.extractTextPromises.push(new Promise(function(t){e.push(t)}));var r=this;t(0)}},handleEvent:function(t){null!==this.state&&"findagain"===t.type||(this.dirtyMatch=!0),this.state=t.detail,this.updateUIState(FindStates.FIND_PENDING),this.firstPagePromise.then(function(){this.extractText(),clearTimeout(this.findTimeout),"find"===t.type?this.findTimeout=setTimeout(this.nextMatch.bind(this),250):this.nextMatch()}.bind(this))},updatePage:function(t){var e=this.pdfPageSource.pages[t];this.selected.pageIdx===t&&e.scrollIntoView(),e.textLayer&&e.textLayer.updateMatches()},nextMatch:function(){var t=this.state.findPrevious,e=this.pdfPageSource.page-1,n=this.pdfPageSource.pages.length;if(this.active=!0,this.dirtyMatch){this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=e,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[];for(var i=this,r=0;r<n;r++)this.updatePage(r),r in this.pendingFindMatches||(this.pendingFindMatches[r]=!0,this.extractTextPromises[r].then(function(t){delete i.pendingFindMatches[t],i.calcFindMatch(t)}))}if(""===this.state.query)return void this.updateUIState(FindStates.FIND_FOUND);if(!this.resumePageIdx){var a=this.offset;if(null!==a.matchIdx){var o=this.pageMatches[a.pageIdx].length;if(!t&&a.matchIdx+1<o||t&&a.matchIdx>0)return this.hadMatch=!0,a.matchIdx=t?a.matchIdx-1:a.matchIdx+1,void this.updateMatch(!0);this.advanceOffsetPage(t)}this.nextPageMatch()}},matchesReady:function(t){var e=this.offset,n=t.length,i=this.state.findPrevious;return n?(this.hadMatch=!0,e.matchIdx=i?n-1:0,this.updateMatch(!0),!0):(this.advanceOffsetPage(i),!(!e.wrapped||(e.matchIdx=null,this.hadMatch))&&(this.updateMatch(!1),!0))},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var t=this.offset.pageIdx,e=this.pageMatches[t];if(!e){this.resumePageIdx=t;break}}while(!this.matchesReady(e))},advanceOffsetPage:function(t){var e=this.offset,n=this.extractTextPromises.length;if(e.pageIdx=t?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,e.pageIdx>=n||e.pageIdx<0)return e.pageIdx=t?n-1:0,void(e.wrapped=!0)},updateMatch:function(t){var e=FindStates.FIND_NOTFOUND,n=this.offset.wrapped;if(this.offset.wrapped=!1,t){var i=this.selected.pageIdx;this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,e=n?FindStates.FIND_WRAPPED:FindStates.FIND_FOUND,-1!==i&&i!==this.selected.pageIdx&&this.updatePage(i)}this.updateUIState(e,this.state.findPrevious),-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx,!0)},updateUIState:function(t,e){if(this.integratedFind)return void FirefoxCom.request("updateFindControlState",{result:t,findPrevious:e});PDFFindBar.updateUIState(t,e)}},CustomStyle=function(){function t(){}var e=["ms","Moz","Webkit","O"],n={};return t.getProp=function(t,i){if(1==arguments.length&&"string"==typeof n[t])return n[t];i=i||document.documentElement;var r,a,o=i.style;if("string"==typeof o[t])return n[t]=t;a=t.charAt(0).toUpperCase()+t.slice(1);for(var s=0,c=e.length;s<c;s++)if(r=e[s]+a,"string"==typeof o[r])return n[t]=r;return n[t]="undefined"},t.setProp=function(t,e,n){var i=this.getProp(t);"undefined"!=i&&(e.style[i]=n)},t}(),ProgressBar=function(){function t(t,e,n){return Math.min(Math.max(t,e),n)}function e(t,e){this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=e.height||100,this.width=e.width||100,this.units=e.units||"%",this.div.style.height=this.height+this.units,this.percent=0}return e.prototype={updateBar:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var t=this.width*this._percent/100;this.div.style.width=t+this.units},get percent(){return this._percent},set percent(e){this._indeterminate=isNaN(e),this._percent=t(e,0,100),this.updateBar()},setWidth:function(t){if(t){var e=t.parentNode,n=e.offsetWidth-t.offsetWidth;n>0&&this.bar.setAttribute("style","width: calc(100% - "+n+"px);")}},hide:function(){this.bar.classList.add("hidden"),this.bar.removeAttribute("style")}},e}(),Cache=function(t){var e=[];this.push=function(n){var i=e.indexOf(n);i>=0&&e.splice(i),e.push(n),e.length>t&&e.shift().destroy()}},isLocalStorageEnabled=function(){try{return"localStorage"in window&&null!==window.localStorage&&localStorage}catch(t){return!1}}(),FIND_SCROLL_OFFSET_TOP=-50,FIND_SCROLL_OFFSET_LEFT=-400,TextLayerBuilder=function(t){var e=document.createDocumentFragment();this.textLayerDiv=t.textLayerDiv,this.layoutDone=!1,this.divContentDone=!1,this.pageIdx=t.pageIndex,this.matches=[],this.lastScrollSource=t.lastScrollSource,this.viewport=t.viewport,this.isViewerInPresentationMode=t.isViewerInPresentationMode,void 0===PDFFindController&&(window.PDFFindController=null),"undefined"==typeof this.lastScrollSource&&(this.lastScrollSource=null),this.beginLayout=function(){this.textDivs=[],this.renderingDone=!1},this.endLayout=function(){this.layoutDone=!0,this.insertDivContent()},this.renderLayer=function(){var t=this.textDivs,n=(this.textContent,this.textLayerDiv),i=document.createElement("canvas"),r=i.getContext("2d");if(!(t.length>1e5)){for(var a=0,o=t.length;a<o;a++){var s=t[a];if(!("isWhitespace"in s.dataset)){r.font=s.style.fontSize+" "+s.style.fontFamily;var c=r.measureText(s.textContent).width;if(c>0){e.appendChild(s);var l=s.dataset.canvasWidth/c,h=s.dataset.angle,u="scale("+l+", 1)";u="rotate("+h+"deg) "+u,CustomStyle.setProp("transform",s,u),CustomStyle.setProp("transformOrigin",s,"0% 0%")}}}n.appendChild(e),this.renderingDone=!0,this.updateMatches()}},this.setupRenderLayoutTimer=function(){var t=200,e=this,n=null===this.lastScrollSource?0:this.lastScrollSource.lastScroll;Date.now()-n>t?this.renderLayer():(this.renderTimer&&clearTimeout(this.renderTimer),this.renderTimer=setTimeout(function(){e.setupRenderLayoutTimer()},t))},this.appendText=function(t){var e=document.createElement("div"),n=t.fontSize*Math.abs(t.vScale);e.dataset.canvasWidth=t.canvasWidth*Math.abs(t.hScale),e.dataset.fontName=t.fontName,e.dataset.angle=t.angle*(180/Math.PI),e.style.fontSize=n+"px",e.style.fontFamily=t.fontFamily;var i=t.ascent?t.ascent*n:t.descent?(1+t.descent)*n:n;e.style.left=t.x+i*Math.sin(t.angle)+"px",e.style.top=t.y-i*Math.cos(t.angle)+"px",this.textDivs.push(e)},this.insertDivContent=function(){if(this.layoutDone&&!this.divContentDone&&this.textContent){this.divContentDone=!0;for(var t=this.textDivs,e=this.textContent,n=0;n<e.length;n++){var i=e[n],r=t[n];/\S/.test(i.str)?(r.textContent=i.str,r.dir=i.dir):r.dataset.isWhitespace=!0}this.setupRenderLayoutTimer()}},this.setTextContent=function(t){this.textContent=t,this.insertDivContent()},this.convertMatches=function(t){for(var e=0,n=0,i=this.textContent,r=i.length-1,a=null===PDFFindController?0:PDFFindController.state.query.length,o=[],s=0;s<t.length;s++){for(var c=t[s];e!==r&&c>=n+i[e].str.length;)n+=i[e].str.length,e++;e==i.length&&console.error("Could not find matching mapping");var l={begin:{divIdx:e,offset:c-n}};for(c+=a;e!==r&&c>n+i[e].str.length;)n+=i[e].str.length,e++;l.end={divIdx:e,offset:c-n},o.push(l)}return o},this.renderMatches=function(t){function e(t,e){var n=t.divIdx,i=o[n];i.textContent="";var r=a[n].str.substring(0,t.offset),s=document.createTextNode(r);if(e){var h=c&&n===l,u=document.createElement("span");return u.className=e+(h?" selected":""),u.appendChild(s),void i.appendChild(u)}i.appendChild(s)}function n(t,e,n){var i=t.divIdx,r=o[i],s=a[i].str.substring(t.offset,e.offset),c=document.createTextNode(s);if(n){var l=document.createElement("span");return l.className=n,l.appendChild(c),void r.appendChild(l)}r.appendChild(c)}function i(t,e){o[t].className=e}if(0!==t.length){var r,a=this.textContent,o=this.textDivs,s=null,c=null!==PDFFindController&&this.pageIdx===PDFFindController.selected.pageIdx,l=null===PDFFindController?-1:PDFFindController.selected.matchIdx,h=null!==PDFFindController&&PDFFindController.state.highlightAll,u={divIdx:-1,offset:undefined},d=l,f=d+1;if(h)d=0,f=t.length;else if(!c)return;for(r=d;r<f;r++){var p=t[r],g=p.begin,m=p.end,A=c&&r===l,v=A?" selected":"";if(A&&!this.isViewerInPresentationMode&&scrollIntoView(o[g.divIdx],{top:FIND_SCROLL_OFFSET_TOP,left:FIND_SCROLL_OFFSET_LEFT}),s&&g.divIdx===s.divIdx?n(s,g):(null!==s&&n(s,u),e(g)),g.divIdx===m.divIdx)n(g,m,"highlight"+v);else{n(g,u,"highlight begin"+v);for(var b=g.divIdx+1;b<m.divIdx;b++)i(b,"highlight middle"+v);e(m,"highlight end"+v)}s=m}s&&n(s,u)}},this.updateMatches=function(){if(this.renderingDone){for(var t=this.matches,e=this.textDivs,n=this.textContent,i=-1,r=0;r<t.length;r++){for(var a=t[r],o=Math.max(i,a.begin.divIdx),s=o;s<=a.end.divIdx;s++){var c=e[s];c.textContent=n[s].str,c.className=""}i=a.end.divIdx+1}null!==PDFFindController&&PDFFindController.active&&(this.matches=t=this.convertMatches(null===PDFFindController?[]:PDFFindController.pageMatches[this.pageIdx]||[]),this.renderMatches(this.matches))}}},pdfjs_version="d45d7bc";